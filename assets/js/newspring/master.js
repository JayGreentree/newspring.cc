function FastClick(e){"use strict";var t,i=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=e,!e||!e.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return FastClick.prototype.onClick.apply(i,arguments)},this.onMouse=function(){return FastClick.prototype.onMouse.apply(i,arguments)},this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(i,arguments)},this.onTouchMove=function(){return FastClick.prototype.onTouchMove.apply(i,arguments)},this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(i,arguments)},this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(i,arguments)},FastClick.notNeeded(e)||(this.deviceIsAndroid&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,i,n){var s=Node.prototype.removeEventListener;"click"===t?s.call(e,t,i.hijacked||i,n):s.call(e,t,i,n)},e.addEventListener=function(t,i,n){var s=Node.prototype.addEventListener;"click"===t?s.call(e,t,i.hijacked||(i.hijacked=function(e){e.propagationStopped||i(e)}),n):s.call(e,t,i,n)}),"function"==typeof e.onclick&&(t=e.onclick,e.addEventListener("click",function(e){t(e)},!1),e.onclick=null))}(function(){"use strict";function e(){}function t(e,t){for(var i=e.length;i--;)if(e[i].listener===t)return i;return-1}function i(e){return function(){return this[e].apply(this,arguments)}}var n=e.prototype,s=this,r=s.EventEmitter;n.getListeners=function(e){var t,i,n=this._getEvents();if(e instanceof RegExp){t={};for(i in n)n.hasOwnProperty(i)&&e.test(i)&&(t[i]=n[i])}else t=n[e]||(n[e]=[]);return t},n.flattenListeners=function(e){var t,i=[];for(t=0;t<e.length;t+=1)i.push(e[t].listener);return i},n.getListenersAsObject=function(e){var t,i=this.getListeners(e);return i instanceof Array&&(t={},t[e]=i),t||i},n.addListener=function(e,i){var n,s=this.getListenersAsObject(e),r="object"==typeof i;for(n in s)s.hasOwnProperty(n)&&-1===t(s[n],i)&&s[n].push(r?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(e){return this.getListeners(e),this},n.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},n.removeListener=function(e,i){var n,s,r=this.getListenersAsObject(e);for(s in r)r.hasOwnProperty(s)&&(n=t(r[s],i),-1!==n&&r[s].splice(n,1));return this},n.off=i("removeListener"),n.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},n.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},n.manipulateListeners=function(e,t,i){var n,s,r=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(n=i.length;n--;)r.call(this,t,i[n]);else for(n in t)t.hasOwnProperty(n)&&(s=t[n])&&("function"==typeof s?r.call(this,n,s):o.call(this,n,s));return this},n.removeEvent=function(e){var t,i=typeof e,n=this._getEvents();if("string"===i)delete n[e];else if(e instanceof RegExp)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(e,t){var i,n,s,r,o=this.getListenersAsObject(e);for(s in o)if(o.hasOwnProperty(s))for(n=o[s].length;n--;)i=o[s][n],i.once===!0&&this.removeListener(e,i.listener),r=i.listener.apply(this,t||[]),r===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},n.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},n._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return s.EventEmitter=r,e},"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}).call(this),function(e,t){"function"==typeof define&&define.amd?define("smoothScroll",t(e)):"object"==typeof exports?module.smoothScroll=t(e):e.smoothScroll=t(e)}(this,function(e){"use strict";var t,i={},n=!!document.querySelector&&!!e.addEventListener,s={speed:500,easing:"easeInOutCubic",offset:0,updateURL:!0,callbackBefore:function(){},callbackAfter:function(){}},r=function(e,t,i){if("[object Object]"===Object.prototype.toString.call(e))for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(i,e[n],n,e);else for(var s=0,r=e.length;r>s;s++)t.call(i,e[s],s,e)},o=function(e,t){var i={};return r(e,function(t,n){i[n]=e[n]}),r(t,function(e,n){i[n]=t[n]}),i},a=function(e,t){var i;return"easeInQuad"===e&&(i=t*t),"easeOutQuad"===e&&(i=t*(2-t)),"easeInOutQuad"===e&&(i=.5>t?2*t*t:-1+(4-2*t)*t),"easeInCubic"===e&&(i=t*t*t),"easeOutCubic"===e&&(i=--t*t*t+1),"easeInOutCubic"===e&&(i=.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1),"easeInQuart"===e&&(i=t*t*t*t),"easeOutQuart"===e&&(i=1- --t*t*t*t),"easeInOutQuart"===e&&(i=.5>t?8*t*t*t*t:1-8*--t*t*t*t),"easeInQuint"===e&&(i=t*t*t*t*t),"easeOutQuint"===e&&(i=1+--t*t*t*t*t),"easeInOutQuint"===e&&(i=.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t),i||t},l=function(e,t,i){var n=0;if(e.offsetParent)do n+=e.offsetTop,e=e.offsetParent;while(e);return n=n-t-i,n>=0?n:0},c=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},u=function(e){return e&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(e):{}},d=function(e,t){history.pushState&&(t||"true"===t)&&history.pushState({pos:e.id},"",window.location.pathname+e)};return i.animateScroll=function(t,i,n,r){var p=o(p||s,n||{}),h=u(t?t.getAttribute("data-options"):null);p=o(p,h);var f,g,m,v=document.querySelector("[data-scroll-header]"),y=null===v?0:v.offsetHeight+v.offsetTop,b=e.pageYOffset,w=l(document.querySelector(i),y,parseInt(p.offset,10)),_=w-b,k=c(),T=0;t&&"a"===t.tagName.toLowerCase()&&r&&r.preventDefault(),d(i,p.updateURL);var C=function(n,s,r){var o=e.pageYOffset;(n==s||o==s||e.innerHeight+o>=k)&&(clearInterval(r),p.callbackAfter(t,i))},S=function(){T+=16,g=T/parseInt(p.speed,10),g=g>1?1:g,m=b+_*a(p.easing,g),e.scrollTo(0,Math.floor(m)),C(m,w,f)},E=function(){p.callbackBefore(t,i),f=setInterval(S,16)};0===e.pageYOffset&&e.scrollTo(0,0),E()},i.init=function(e){if(n){t=o(s,e||{});var a=document.querySelectorAll("[data-scroll]");r(a,function(e){e.addEventListener("click",i.animateScroll.bind(null,e,e.hash,t),!1)})}},i}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t:e.echo=t(e)}(this,function(e){"use strict";var t,i,n,s,r,o,a,l={},c=function(){},u=function(e,t){var i=e.getBoundingClientRect();return i.right>=t.l&&i.bottom>=t.t&&i.left<=t.r&&i.top<=t.b},d=function(){clearTimeout(i),i=setTimeout(l.render,n)};return a=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},r=function(e,t){return a(e,t)?void 0:e.className+=" "+t},o=function(e,t){var i;if(i=" "+e.className.replace(/[\t\r\n]/g," ")+" ",a(e,t)){for(;i.indexOf(" "+t+" ")>=0;)i=i.replace(" "+t+" "," ");return e.className=i.replace(/^\s+|\s+$/g,"")}},l.init=function(i){i=i||{};var r=i.offset||0,o=i.offsetVertical||r,a=i.offsetHorizontal||r,u=function(e,t){return parseInt(e||t,10)};t={t:u(i.offsetTop,o),b:u(i.offsetBottom,o),l:u(i.offsetLeft,a),r:u(i.offsetRight,a)},n=u(i.throttle,250),s=!!i.unload,c=i.callback||c,l.render(),document.addEventListener?(e.addEventListener("scroll",d,!1),e.addEventListener("load",d,!1)):(e.attachEvent("onscroll",d),e.attachEvent("onload",d))},l.render=function(){for(var i,n,a=document.querySelectorAll("[data-lazy-load]"),d=a.length,p={l:0-t.l,t:0-t.t,b:(e.innerHeight||document.documentElement.clientHeight)+t.b,r:(e.innerWidth||document.documentElement.clientWidth)+t.r},h=0;d>h;h++)if(n=a[h],r(n,"lazy--pre"),u(n,p))if(s&&n.setAttribute("data-lazy-load-placeholder",n.src),"IMG"!=n.tagName){var f;f=document.createElement("IMG"),f.src=n.getAttribute("data-lazy-load");var g=function(e){var t=e.target.stashedEle;t.style.backgroundImage="url( "+t.getAttribute("data-lazy-load")+")",r(t,"lazy--post"),o(t,"lazy--pre"),c(t,"load")};f.stashedEle=n,f.addEventListener("load",g,!1)}else{var f;f=document.createElement("IMG"),f.src=ele.getAttribute("data-lazy-load");var m=function(e){var t=e.target.stashedEle;t.src=t.getAttribute("data-lazy-load"),r(t,"lazy--post"),o(t,"lazy--pre"),c(t,"load")};f.stashedEle=n,f.addEventListener("load",m,!1)}else s&&(i=n.getAttribute("data-lazy-load-placeholder"))&&("IMG"!=n.tagName?n.style.backgroundImage="url( "+i+")":n.src=i,n.removeAttribute("data-lazy-load-placeholder"),c(n,"unload"));d||l.detach()},l.detach=function(){document.removeEventListener?e.removeEventListener("scroll",d):e.detachEvent("onscroll",d),clearTimeout(i)},l});var Handlebars=function(){var e=function(){"use strict";function e(e){this.string=e}var t;return e.prototype.toString=function(){return""+this.string},t=e}(),t=function(e){"use strict";function t(e){return a[e]||"&amp;"}function i(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}function n(e){return e instanceof o?e.toString():e||0===e?(e=""+e,c.test(e)?e.replace(l,t):e):""}function s(e){return e||0===e?p(e)&&0===e.length?!0:!1:!0}var r={},o=e,a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,c=/[&<>"'`]/;r.extend=i;var u=Object.prototype.toString;r.toString=u;var d=function(e){return"function"==typeof e};d(/x/)&&(d=function(e){return"function"==typeof e&&"[object Function]"===u.call(e)});var d;r.isFunction=d;var p=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===u.call(e):!1};return r.isArray=p,r.escapeExpression=n,r.isEmpty=s,r}(e),i=function(){"use strict";function e(e,t){var n;t&&t.firstLine&&(n=t.firstLine,e+=" - "+n+":"+t.firstColumn);for(var s=Error.prototype.constructor.call(this,e),r=0;r<i.length;r++)this[i[r]]=s[i[r]];n&&(this.lineNumber=n,this.column=t.firstColumn)}var t,i=["description","fileName","lineNumber","message","name","number","stack"];return e.prototype=new Error,t=e}(),n=function(e,t){"use strict";function i(e,t){this.helpers=e||{},this.partials=t||{},n(this)}function n(e){e.registerHelper("helperMissing",function(e){if(2===arguments.length)return void 0;throw new a("Missing helper: '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,i){var n=i.inverse||function(){},s=i.fn;return p(t)&&(t=t.call(this)),t===!0?s(this):t===!1||null==t?n(this):d(t)?t.length>0?e.helpers.each(t,i):n(this):s(t)}),e.registerHelper("each",function(e,t){var i,n=t.fn,s=t.inverse,r=0,o="";if(p(e)&&(e=e.call(this)),t.data&&(i=m(t.data)),e&&"object"==typeof e)if(d(e))for(var a=e.length;a>r;r++)i&&(i.index=r,i.first=0===r,i.last=r===e.length-1),o+=n(e[r],{data:i});else for(var l in e)e.hasOwnProperty(l)&&(i&&(i.key=l,i.index=r,i.first=0===r),o+=n(e[l],{data:i}),r++);return 0===r&&(o=s(this)),o}),e.registerHelper("if",function(e,t){return p(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||o.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,i){return e.helpers["if"].call(this,t,{fn:i.inverse,inverse:i.fn,hash:i.hash})}),e.registerHelper("with",function(e,t){return p(e)&&(e=e.call(this)),o.isEmpty(e)?void 0:t.fn(e)}),e.registerHelper("log",function(t,i){var n=i.data&&null!=i.data.level?parseInt(i.data.level,10):1;e.log(n,t)})}function s(e,t){g.log(e,t)}var r={},o=e,a=t,l="1.3.0";r.VERSION=l;var c=4;r.COMPILER_REVISION=c;var u={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};r.REVISION_CHANGES=u;var d=o.isArray,p=o.isFunction,h=o.toString,f="[object Object]";r.HandlebarsEnvironment=i,i.prototype={constructor:i,logger:g,log:s,registerHelper:function(e,t,i){if(h.call(e)===f){if(i||t)throw new a("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else i&&(t.not=i),this.helpers[e]=t},registerPartial:function(e,t){h.call(e)===f?o.extend(this.partials,e):this.partials[e]=t}};var g={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(g.level<=e){var i=g.methodMap[e];"undefined"!=typeof console&&console[i]&&console[i].call(console,t)}}};r.logger=g,r.log=s;var m=function(e){var t={};return o.extend(t,e),t};return r.createFrame=m,r}(t,i),s=function(e,t,i){"use strict";function n(e){var t=e&&e[0]||1,i=p;if(t!==i){if(i>t){var n=h[i],s=h[t];throw new d("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+s+").")}throw new d("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function s(e,t){if(!t)throw new d("No environment passed to template");var i=function(e,i,n,s,r,o){var a=t.VM.invokePartial.apply(this,arguments);if(null!=a)return a;if(t.compile){var l={helpers:s,partials:r,data:o};return r[i]=t.compile(e,{data:void 0!==o},t),r[i](n,l)}throw new d("The partial "+i+" could not be compiled when running in runtime-only mode")},n={escapeExpression:u.escapeExpression,invokePartial:i,programs:[],program:function(e,t,i){var n=this.programs[e];return i?n=o(e,t,i):n||(n=this.programs[e]=o(e,t)),n},merge:function(e,t){var i=e||t;return e&&t&&e!==t&&(i={},u.extend(i,t),u.extend(i,e)),i},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(i,s){s=s||{};var r,o,a=s.partial?s:t;s.partial||(r=s.helpers,o=s.partials);var l=e.call(n,a,i,r,o,s.data);return s.partial||t.VM.checkRevision(n.compilerInfo),l}}function r(e,t,i){var n=Array.prototype.slice.call(arguments,3),s=function(e,s){return s=s||{},t.apply(this,[e,s.data||i].concat(n))};return s.program=e,s.depth=n.length,s}function o(e,t,i){var n=function(e,n){return n=n||{},t(e,n.data||i)};return n.program=e,n.depth=0,n}function a(e,t,i,n,s,r){var o={partial:!0,helpers:n,partials:s,data:r};if(void 0===e)throw new d("The partial "+t+" could not be found");return e instanceof Function?e(i,o):void 0}function l(){return""}var c={},u=e,d=t,p=i.COMPILER_REVISION,h=i.REVISION_CHANGES;return c.checkRevision=n,c.template=s,c.programWithDepth=r,c.program=o,c.invokePartial=a,c.noop=l,c}(t,i,n),r=function(e,t,i,n,s){"use strict";var r,o=e,a=t,l=i,c=n,u=s,d=function(){var e=new o.HandlebarsEnvironment;return c.extend(e,o),e.SafeString=a,e.Exception=l,e.Utils=c,e.VM=u,e.template=function(t){return u.template(t,e)},e},p=d();return p.create=d,r=p}(n,e,i,t,s);return r}();Handlebars.getTemplate=function(e){return sendBack=HandlebarsTemplates["handlebars/"+e]},Handlebars.registerHelper("list",function(e,t){for(var i="<ul>",n=0,s=e.length;s>n;n++)i=i+"<li>"+t.fn(e[n])+"</li>";return i+"</ul>"}),Handlebars.registerHelper("debug",function(e){console.log("Current Context"),console.log("===================="),console.log(this),e&&(console.log("Value"),console.log("===================="),console.log(e))}),Handlebars.registerHelper("first",function(e,t){return t(e[0])}),Handlebars.registerHelper("limit",function(e,t){var i="",n=parseInt(t.hash.offset)||0,s=parseInt(t.hash.limit)||5,r=n<e.length?n:0,o=s+n<e.length?s+n:e.length;for(o;o>r;r++)i+=t.fn(e[r]);return i}),Handlebars.registerHelper("protocolLess",function(e){return url=e.replace(/(.*?)\/\//,""),new Handlebars.SafeString(url)}),Handlebars.registerHelper("justSite",function(e){return siteArray=e.replace(/(.*?)\/\//,""),siteArray=siteArray.split("/"),siteArray=siteArray[0],new Handlebars.SafeString(siteArray)}),Handlebars.registerHelper("toSentance",function(e,t){for(var i="",n=0,s=e.length;s>n;n++)i+=t(e[n]),s-1>n&&(i+=", ");return i}),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["handlebars/dashboard-intro"]=Handlebars.template(function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var r,o,a="",l="function",c=this.escapeExpression;return a+='<section class="dashboard--intro section--primary">\n  <div class="shell">\n    <div class="grid flush">\n      <div class="grid__item one-whole hard flush">\n        <h2>Hey ',(o=i.member)?r=o.call(t,{hash:{},data:s}):(o=t&&t.member,r=typeof o===l?o.call(t,{hash:{},data:s}):o),a+=c(r)+'!</h2>\n        <p>\n          Welcome to your Network Dashboard. We\u2019re excited you\u2019ve joined! At the top are some new resources we thought you would enjoy and that may greatly benefit your ministry, and below is an entire resource archive for you to explore, download, and share.\n        </p>\n        <a class="btn" data-modal-close="DashboardIntro">I\'m Ready To Explore</a>\n\n      </div>\n    </div>\n  </div>\n</section>\n'}),this.HandlebarsTemplates["handlebars/dashboard-intro"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["handlebars/google_results"]=Handlebars.template(function(e,t,i,n,s){function r(e){var t,i="";return i+='\n		<div data-search-link="masthead">\n\n			<h3>Are you looking for\n				<strong>'+b((t=e&&e[0],t=null==t||t===!1?t:t.spelling,t=null==t||t===!1?t:t.correctedQuery,typeof t===y?t.apply(e):t))+"?</strong>\n			</h3>\n\n		</div>\n		"}function o(e){var t,i="";return i+='\n		<h3 class="flush">\n			<strong>'+b((t=e&&e[0],t=null==t||t===!1?t:t.pagination,t=null==t||t===!1?t:t.request,t=null==t||t===!1?t:t[0],t=null==t||t===!1?t:t.totalResults,typeof t===y?t.apply(e):t))+"</strong>\n			results for\n			<strong>"+b((t=e&&e[0],t=null==t||t===!1?t:t.pagination,t=null==t||t===!1?t:t.request,t=null==t||t===!1?t:t[0],t=null==t||t===!1?t:t.searchTerms,typeof t===y?t.apply(e):t))+"!</strong>\n		</h3>\n		"}function a(e,t){var n,s,r,o="";return o+='\n				<div class="grid flush">\n					<div class="grid__item card hard">\n					',n=i["if"].call(e,e&&e.image,{hash:{},inverse:w.noop,fn:w.program(6,l,t),data:t}),(n||0===n)&&(o+=n),o+='<!--\n						--><div class="grid__item one-whole ',n=i["if"].call(e,e&&e.image,{hash:{},inverse:w.noop,fn:w.program(8,c,t),data:t}),(n||0===n)&&(o+=n),o+=' hard flush">\n								<div class="card flush">\n									<h3 class="flush"><a href="',(s=i.sslUrl)?n=s.call(e,{hash:{},data:t}):(s=e&&e.sslUrl,n=typeof s===y?s.call(e,{hash:{},data:t}):s),o+=b(n)+'" class="dark">',(s=i.title)?n=s.call(e,{hash:{},data:t}):(s=e&&e.title,n=typeof s===y?s.call(e,{hash:{},data:t}):s),o+=b(n)+"</a></h3>\n									<small>",s=i.protocolLess||e&&e.protocolLess,r={hash:{},data:t},n=s?s.call(e,e&&e.sslUrl,r):_.call(e,"protocolLess",e&&e.sslUrl,r),(n||0===n)&&(o+=n),o+="</small>\n									<p>\n										",(s=i.description)?n=s.call(e,{hash:{},data:t}):(s=e&&e.description,n=typeof s===y?s.call(e,{hash:{},data:t}):s),o+=b(n)+' <a href="',(s=i.sslUrl)?n=s.call(e,{hash:{},data:t}):(s=e&&e.sslUrl,n=typeof s===y?s.call(e,{hash:{},data:t}):s),o+=b(n)+'" class="link--arrow flush">Read More</a>\n									</p>\n							</div>\n						</div>\n					</div>\n				</div>\n			'}function l(e,t){var n,s,r="";return r+='\n						<div class="grid__item hard flush one-whole lap-and-up-one-sixth">\n							<a href="',(s=i.sslURL)?n=s.call(e,{hash:{},data:t}):(s=e&&e.sslURL,n=typeof s===y?s.call(e,{hash:{},data:t}):s),r+=b(n)+'" class="image ratio--square flush background--fill" style="background-image: url('+b((n=e&&e.image,n=null==n||n===!1?n:n.src,typeof n===y?n.apply(e):n))+');">\n							</a>\n\n						</div>'}function c(){return"lap-and-up-five-sixths"}function u(e,t){var n,s,r,o="";return o+='\n							<p>\n								<a href="',(s=i.sslUrl)?n=s.call(e,{hash:{},data:t}):(s=e&&e.sslUrl,n=typeof s===y?s.call(e,{hash:{},data:t}):s),o+=b(n)+'" class="dark">',(s=i.title)?n=s.call(e,{hash:{},data:t}):(s=e&&e.title,n=typeof s===y?s.call(e,{hash:{},data:t}):s),o+=b(n)+"</a>\n								<small>\n									",s=i.justSite||e&&e.justSite,r={hash:{},data:t},n=s?s.call(e,e&&e.sslUrl,r):_.call(e,"justSite",e&&e.sslUrl,r),(n||0===n)&&(o+=n),o+="\n								</small>\n							</p>\n\n						"}function d(e,t){var n,s="";return s+='<!--\n			--><div class="grid__item one-whole centered">\n					<div class="tiles tiles--horizontal outlined">\n					<div class="tile__item icon icon--small ',n=i["if"].call(e,(n=e&&e[0],n=null==n||n===!1?n:n.pagination,null==n||n===!1?n:n.previousPage),{hash:{},inverse:w.noop,fn:w.program(13,p,t),data:t}),(n||0===n)&&(s+=n),s+='" ',n=i["if"].call(e,(n=e&&e[0],n=null==n||n===!1?n:n.pagination,null==n||n===!1?n:n.previousPage),{hash:{},inverse:w.noop,fn:w.program(15,h,t),data:t}),(n||0===n)&&(s+=n),s+='></div><!--\n					--><div class="tile__item icon icon--small ',n=i["if"].call(e,(n=e&&e[0],n=null==n||n===!1?n:n.pagination,null==n||n===!1?n:n.nextPage),{hash:{},inverse:w.noop,fn:w.program(17,f,t),data:t}),(n||0===n)&&(s+=n),s+='" ',n=i["if"].call(e,(n=e&&e[0],n=null==n||n===!1?n:n.pagination,null==n||n===!1?n:n.nextPage),{hash:{},inverse:w.noop,fn:w.program(19,g,t),data:t}),(n||0===n)&&(s+=n),s+="></div>\n			</div>"}function p(){return"icon--arrow-left"}function h(){return"data-search-previous"}function f(){return"icon--arrow-right"}function g(){return"data-search-next"}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var m,v="",y="function",b=this.escapeExpression,w=this,_=i.helperMissing;return v+='\n\n<section class="section--condensed flush">\n	<div class="shell">\n		',m=i["if"].call(t,(m=t&&t[0],m=null==m||m===!1?m:m.spelling,null==m||m===!1?m:m.correctedQuery),{hash:{},inverse:w.program(3,o,s),fn:w.program(1,r,s),data:s}),(m||0===m)&&(v+=m),v+='\n	</div>\n</section>\n\n\n<section class="section--grey section--condensed">\n\n	<div class="shell">\n		<div class="grid">\n			<div class="grid__item two-thirds portable-one-whole palm-wide-one-whole palm-one-whole">\n			',m=i.each.call(t,(m=t&&t[0],null==m||m===!1?m:m.items),{hash:{},inverse:w.noop,fn:w.program(5,a,s),data:s}),(m||0===m)&&(v+=m),v+='\n			</div><!--\n\n			--><div class="grid__item one-third portable-one-whole palm-wide-one-whole palm-one-whole"><!--\n				--><div class="grid__item flush hard one-whole">\n					<div class="card">\n						<h4>On our other sites</h4>\n						',m=i.each.call(t,(m=t&&t[1],null==m||m===!1?m:m.items),{hash:{},inverse:w.noop,fn:w.program(10,u,s),data:s}),(m||0===m)&&(v+=m),v+="\n					</div>\n				</div>\n			</div>",m=i["if"].call(t,(m=t&&t[0],m=null==m||m===!1?m:m.pagination,null==m||m===!1?m:m.nextPage),{hash:{},inverse:w.noop,fn:w.program(12,d,s),data:s}),(m||0===m)&&(v+=m),v+='<!--\n			--><div class="grid__item one-whole centered">\n				<small class="soft-half">Results powered by <span class="google-logo background--fill"></span></small>\n			</div>\n\n		</div>\n	</div>\n\n\n</section>\n'}),this.HandlebarsTemplates["handlebars/google_results"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["handlebars/jobs-subscribe"]=Handlebars.template(function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var r,o,a="",l="function",c=this.escapeExpression;return a+='<div class="icon icon--close-modal fa fw fa-times" data-modal-close="jobs-subscribe"></div>\n\n\n<section>\n	<div class="shell">\n		<div class="grid">\n			<div class="text--constrained">\n				<div class="grid__item one-whole centered">\n					<h2>',(o=i.title)?r=o.call(t,{hash:{},data:s}):(o=t&&t.title,r=typeof o===l?o.call(t,{hash:{},data:s}):o),a+=c(r)+' Jobs</h2>\n					<h3>Sign Up for Notifications</h3>\n				</div><div class="grid__item one-whole">\n					<form action="https://feedpress.it/e/mailverify" method="post" target="popupwindow" onsubmit="window.open(\'https://feedpress.it/e/mailverify?feed_id=jobs-',(o=i.url_title)?r=o.call(t,{hash:{},data:s}):(o=t&&t.url_title,r=typeof o===l?o.call(t,{hash:{},data:s}):o),a+=c(r)+'\', \'popupwindow\',\'scrollbars=yes,width=550,height=400\');return true">\n\n						<p>\n							<label for="email">E-Mail Address:</label>\n							<input type="text" name="email" placeholder="Email Address"/>\n						</p>\n\n						<input type="hidden" value="jobs-',(o=i.url_title)?r=o.call(t,{hash:{},data:s}):(o=t&&t.url_title,r=typeof o===l?o.call(t,{hash:{},data:s}):o),a+=c(r)+'" name="feed_id"/>\n\n						<input type="submit" value="Subscribe" class="submit ready btn btn--corners btn--filled"/>\n					</form>		\n				</div>\n			</div>\n		</div>\n	</div>\n</section>\n'}),this.HandlebarsTemplates["handlebars/jobs-subscribe"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["handlebars/loading"]=Handlebars.template(function(e,t,i,n,s){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{},'<section style="position: absolute; top: 0; bottom: 0; left: 0; right: 0;">\n  <div class="floating" style="height: 100%" >\n    <div class="floating__item">\n      <h1>Loading Icon Here</h1>\n    </div>\n  </div>\n</section>\n'}),this.HandlebarsTemplates["handlebars/loading"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["handlebars/locations_popup"]=Handlebars.template(function(e,t,i,n,s){function r(e){var t,i="";return i+=h((t=e&&e.location,t=null==t||t===!1?t:t.name,typeof t===p?t.apply(e):t))+"<br>"}function o(e){var t;return h((t=e&&e.location,t=null==t||t===!1?t:t.street1,typeof t===p?t.apply(e):t))}function a(e){var t;return h((t=e&&e.location,t=null==t||t===!1?t:t.street2,typeof t===p?t.apply(e):t))}function l(e,t){var n,s,r="";return r+="\n<li>",(s=i.number)?n=s.call(e,{hash:{},data:t}):(s=e&&e.number,n=typeof s===p?s.call(e,{hash:{},data:t}):s),r+=h(n)+"</li>\n"}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var c,u,d="",p="function",h=this.escapeExpression,f=this;return d+="<h5>",(u=i.campus)?c=u.call(t,{hash:{},data:s}):(u=t&&t.campus,c=typeof u===p?u.call(t,{hash:{},data:s}):u),d+=h(c)+" Campus</h5>\n<h6>Address</h6>\n<p>",c=i["if"].call(t,(c=t&&t.location,null==c||c===!1?c:c.name),{hash:{},inverse:f.noop,fn:f.program(1,r,s),data:s}),(c||0===c)&&(d+=c),d+="\n  ",c=i["if"].call(t,(c=t&&t.location,null==c||c===!1?c:c.street1),{hash:{},inverse:f.noop,fn:f.program(3,o,s),data:s}),(c||0===c)&&(d+=c),d+="\n  ",c=i["if"].call(t,(c=t&&t.location,null==c||c===!1?c:c.street2),{hash:{},inverse:f.noop,fn:f.program(5,a,s),data:s}),(c||0===c)&&(d+=c),d+="\n  <br>"+h((c=t&&t.location,c=null==c||c===!1?c:c.city,typeof c===p?c.apply(t):c))+", "+h((c=t&&t.location,c=null==c||c===!1?c:c.state,typeof c===p?c.apply(t):c))+" "+h((c=t&&t.location,c=null==c||c===!1?c:c.zip,typeof c===p?c.apply(t):c))+"</p>\n\n<h6>Contact</h6>\n<ul>\n",c=i["if"].call(t,t&&t.description,{hash:{},inverse:f.noop,fn:f.program(7,l,s),data:s}),(c||0===c)&&(d+=c),d+='\n<li><a href="mailto:',(u=i.email)?c=u.call(t,{hash:{},data:s}):(u=t&&t.email,c=typeof u===p?u.call(t,{hash:{},data:s}):u),d+=h(c)+'">',(u=i.email)?c=u.call(t,{hash:{},data:s}):(u=t&&t.email,c=typeof u===p?u.call(t,{hash:{},data:s}):u),d+=h(c)+"</a></li>\n</ul>\n"}),this.HandlebarsTemplates["handlebars/locations_popup"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["handlebars/login"]=Handlebars.template(function(e,t,i,n,s){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{},'<section>\n  <div class="shell">\n    <div class="grid centered">\n      <div class="grid__item one-half hard flush left">\n        {exp:zoo_visitor:login_form retrn="/dashboard" error_handling="inline"}\n\n        <fieldset>\n          <legend>Sign In</legend>\n\n            <p{if error:username} class="error"{/if}>\n              <label for="email">Email</label>\n              <input type="text" name="username" id="username" placeholder="slimer@ghostbusters.guru" data-parsley-error-message="A username is required." required>\n              {if error:username}\n              <span class="form--error">\n                {error:username}\n              </span>\n              {/if}\n            </p>\n\n            <p{if error:password} class="error"{/if}>\n              <label for="password">Password</label>\n              <input type="password" name="password" id="password" placeholder="MakinBaconPancakes" required>\n              {if error:password}\n              <span class="form--error">\n                {error:password}\n              </span>\n              {/if}\n            </p>\n\n            {if auto_login}\n            <p>\n              <label for="remember_me">Remember me?</label>\n              <input class=\'checkbox\' type=\'checkbox\' name=\'auto_login\' value=\'1\'  />\n            </p>\n            {/if}\n        </fieldset>\n        <button type="submit" name="submit" class="ready">Log In</button>\n        <h6>Don\'t have an account?  <a href="/signup">Sign Up.</a>  It\'s free!</h6>\n\n        {/exp:zoo_visitor:login_form}\n      </div>\n    </div>\n  </div>\n</section>\n'}),this.HandlebarsTemplates["handlebars/login"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["handlebars/mobileNav"]=Handlebars.template(function(e,t,i,n,s){function r(e,t){var n,s,r="";return r+='\n    <li class="',(s=i["class"])?n=s.call(e,{hash:{},data:t}):(s=e&&e["class"],n=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=g(n)+'" >\n      <a href="',(s=i.link)?n=s.call(e,{hash:{},data:t}):(s=e&&e.link,n=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=g(n)+'" class="',(s=i.childClass)?n=s.call(e,{hash:{},data:t}):(s=e&&e.childClass,n=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=g(n)+'" ',n=i["if"].call(e,e&&e.rel,{hash:{},inverse:m.noop,fn:m.program(2,o,t),data:t}),(n||0===n)&&(r+=n),r+="\n        ",n=i["if"].call(e,e&&e.data,{hash:{},inverse:m.noop,fn:m.program(4,a,t),data:t}),(n||0===n)&&(r+=n),r+="\n        ",n=i["if"].call(e,e&&e.trigger,{hash:{},inverse:m.noop,fn:m.program(7,c,t),data:t}),(n||0===n)&&(r+=n),r+=">",(s=i.text)?n=s.call(e,{hash:{},data:t}):(s=e&&e.text,n=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=g(n)+"</a>\n      ",n=i["if"].call(e,e&&e.children,{hash:{},inverse:m.noop,fn:m.program(9,u,t),data:t}),(n||0===n)&&(r+=n),r+="\n    </li>\n    "}function o(e,t){var n,s,r="";return r+='data-modal-open="',(s=i.rel)?n=s.call(e,{hash:{},data:t}):(s=e&&e.rel,n=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=g(n)+'"'}function a(e,t){var n,s="";return s+="\n          data-"+g((n=e&&e.data,n=null==n||n===!1?n:n.attr,typeof n===f?n.apply(e):n))+'="',n=i.each.call(e,(n=e&&e.data,null==n||n===!1?n:n.val),{hash:{},inverse:m.noop,fn:m.program(5,l,t),data:t}),(n||0===n)&&(s+=n),s+='"\n        '}function l(e,t){var n,s,r="";return(s=i.val)?n=s.call(e,{hash:{},data:t}):(s=e&&e.val,n=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=g(n)+","}function c(e,t){var n,s,r="";return(s=i.trigger)?n=s.call(e,{hash:{},data:t}):(s=e&&e.trigger,n=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=g(n)+'="mobileNav"'}function u(e,t){var n,s="";return s+="\n      <ul>\n        ",n=i.each.call(e,e&&e.children,{hash:{},inverse:m.noop,fn:m.program(10,d,t),data:t}),(n||0===n)&&(s+=n),s+="\n      </ul>\n      "}function d(e,t){var n,s,r="";return r+='\n          <li class="',(s=i["class"])?n=s.call(e,{hash:{},data:t}):(s=e&&e["class"],n=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=g(n)+'" >\n            <a href="',(s=i.link)?n=s.call(e,{hash:{},data:t}):(s=e&&e.link,n=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=g(n)+'" class="',(s=i["class"])?n=s.call(e,{hash:{},data:t}):(s=e&&e["class"],n=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=g(n)+'" ',n=i["if"].call(e,e&&e.rel,{hash:{},inverse:m.noop,fn:m.program(2,o,t),data:t}),(n||0===n)&&(r+=n),r+=">",(s=i.text)?n=s.call(e,{hash:{},data:t}):(s=e&&e.text,n=typeof s===f?s.call(e,{hash:{},data:t}):s),r+=g(n)+"</a>\n          </li>\n        "}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var p,h="",f="function",g=this.escapeExpression,m=this;return h+='<div class="mobile-nav-container" data-modal="mobileNav">\n\n\n  <a href="/" class="logo floating floating__item ">\n      <div class="newspring--icon floating__item"></div>\n  </a>\n\n  <div class="close icon fa fw fa-times visuallyhidden--desk-and-up"\n    data-modal-close="mobileNav">\n  </div>\n\n  <ul class="nav nav--primary accordion mobile-nav" data-accordion="mobileNav">\n    <li class="" >\n      <a href="/" >Home</a>\n    </li>\n    ',p=i.each.call(t,t&&t.nav,{hash:{},inverse:m.noop,fn:m.program(1,r,s),data:s}),(p||0===p)&&(h+=p),h+="\n  </ul>\n\n</div>\n"
}),this.HandlebarsTemplates["handlebars/mobileNav"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["handlebars/search-modal"]=Handlebars.template(function(e,t,i,n,s){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{},'<section>\n	<div class="shell hard">\n		<div class="masthead-wrapper">\n			<div class="search-container" >\n				<span data-google-search-close="search-modal" data-modal-close="search-modal" class="icon icon--large fa fw fa-times"></span>\n\n				<span data-google-search-trigger="search-modal" class=" visuallyhidden--lap-wide-and-down icon icon--large fa fw fa-search"></span>\n				<input id="search-bar"\n					type="text"\n					placeholder="Search"\n					data-google-search=\'search-modal\'\n					data-google-search-autocomplete=\'[{"general": "tag", "data" : "/assets/_source/templates/newspring/_testing.group/tags.json"},{"promos" : "promo", "data" : "/assets/_source/templates/newspring/_testing.group/promo.json"}]\'>\n\n				<div class="search-results" data-google-search-results="search-modal">\n				</div>\n\n			</div>\n\n		</div>\n	</div>\n</section>\n'}),this.HandlebarsTemplates["handlebars/search-modal"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["handlebars/search_general"]=Handlebars.template(function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var r,o,a="",l="function",c=this.escapeExpression;return a+='\n  <a class="tag btn btn--corners" onclick="return false">\n    ',(o=i.tag)?r=o.call(t,{hash:{},data:s}):(o=t&&t.tag,r=typeof o===l?o.call(t,{hash:{},data:s}):o),a+=c(r)+"\n  </a>\n"}),this.HandlebarsTemplates["handlebars/search_general"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["handlebars/search_promos"]=Handlebars.template(function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var r,o,a="",l="function",c=this.escapeExpression;return a+='\n  <a class="promo btn tag btn--corners" onclick="return false" >\n    ',(o=i.promo)?r=o.call(t,{hash:{},data:s}):(o=t&&t.promo,r=typeof o===l?o.call(t,{hash:{},data:s}):o),a+=c(r)+"\n  </a>\n"}),this.HandlebarsTemplates["handlebars/search_promos"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["handlebars/share"]=Handlebars.template(function(e,t,i,n,s){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{},'<div class="share-menu" id="share">\n	<div class="rounded"></div>\n	<a id="email-share-button" data-share-button="email" href="#" class="share-link share-link-email"><span class="fa fa-envelope fa-lg icon icon--small"></span></a>\n	<a id="twitter-share-button" data-share-button="tweet" href="#" class="share-link share-link-twitter"><span class="fa fa-twitter fa-lg icon icon--small"></span></a>\n	<div class="rounded"></div>\n	<!-- <div class="arrows"></div> -->\n</div>\n'}),this.HandlebarsTemplates["handlebars/share"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["handlebars/videoPlayer"]=Handlebars.template(function(e,t,i,n,s){return this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{},'\n<div id="player--ooyala"></div>\n<!-- <div class="fa-icon fa-icon--close fa-icon--filled fa fa-times" data-modal-close="videoPlayer"></div> -->\n<div class="icon icon--close-modal fa fw fa-times" data-modal-close="videoPlayer"></div>\n'}),this.HandlebarsTemplates["handlebars/videoPlayer"]}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.data=e,this.handleEvent=t(this.handleEvent,this),this.requestTick=t(this.requestTick,this),this.update=t(this.update,this),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,this.callback=this.data,this.ticking=!1}return e.prototype.update=function(){return this.callback&&this.callback(),this.ticking=!1},e.prototype.requestTick=function(){return this.ticking?void 0:(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},e.prototype.handleEvent=function(){return this.requestTick()},e}(),window.Debouncer=e}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.data=e,this.flattenObject=t(this.flattenObject,this),this.findAttr=t(this.findAttr,this),this.removeClass=t(this.removeClass,this),this.addClass=t(this.addClass,this),this.toggleClass=t(this.toggleClass,this),this.preCacheVideos=t(this.preCacheVideos,this),this.preCacheImgs=t(this.preCacheImgs,this),this.isMobile=t(this.isMobile,this),this.debounce=t(this.debounce,this),this.addModel=t(this.addModel,this),this.updateModels=t(this.updateModels,this),this.nameSpace=t(this.nameSpace,this),this.addPlugin=t(this.addPlugin,this),this.mapEvents=t(this.mapEvents,this),this._properties={data:e},this.plugins={},"undefined"!=typeof EventEmitter&&null!==EventEmitter&&(this.events=new EventEmitter),this.mapEvents().bindSmoothScroll()}return e.prototype.mapEvents=function(){return this},e.prototype.addPlugin=function(e,t,i,n){var s,r,o,a,l;if(r=function(e){return function(t,i,n,s){return e.plugins[t]={_id:t,model:i,attr:n,callback:s}}}(this),this.plugins.length)for(l=this.plugins,o=0,a=l.length;a>o;o++)return s=l[o],s._id!==t.name&&r(e,t,i,n),void this.addModel(document,t,i,n);else r(e,t,i,n);return this.addModel(document,t,i,n)},e.prototype.nameSpace=function(e,t,i,n){var s,r;return s=t.replace(/[\[\]']+/g,""),r=e.attributes[s].value.split(","),r=r.map(function(e){return e.trim()}),t=s.split("-"),this[t[1]]||(this[t[1]]={}),this[t[1]][r[0]]||(this[t[1]][r[0]]=new i(e,s)),n?(this[t[1]][r[0]]=null,this[t[1]][r[0]]=new i(e,s)):void 0},e.prototype.updateModels=function(e,t){var i,n,s,r,o;for(r=core.flattenObject(this.plugins),o=[],n=0,s=r.length;s>n;n++)i=r[n],o.push(this.addModel(e,i.model,i.attr,!1,t));return o},e.prototype.addModel=function(e,t,i,n,s){var r,o,a,l;for(l=e.querySelectorAll(i),o=0,a=l.length;a>o;o++)r=l[o],this.nameSpace(r,i,t,s);return e.querySelectorAll(i).length&&n?n():void 0},e.prototype.bindLazyLoad=function(){return"undefined"!=typeof echo&&null!==echo?(echo.init({offset:100,throttle:250,unload:!1}),this):void 0},e.prototype.bindSmoothScroll=function(){return"undefined"!=typeof smoothScroll&&null!==smoothScroll?smoothScroll.init({offset:0,updateURL:!1}):void 0},e.prototype.debounce=function(e){var t;return t=null,null!=t?t:t=new Debouncer(e)},e.prototype.doesVariableExist=function(e){var t,i,n,s;n=window.location.search.substring(1),s=n.split("&");for(t in s)if(i=s[t].split("="),decodeURIComponent(i[1])===e)return!0;return!1},e.prototype.doesQueryVariableExist=function(e){var t,i,n,s;n=window.location.search.substring(1),s=n.split("&");for(t in s)if(i=s[t].split("="),decodeURIComponent(i[0])===e)return!0;return!1},e.prototype.flatten=function(e){var t,i,n,s;for(i=[],n=0,s=e.length;s>n;n++)t=e[n],t instanceof Array?i=i.concat(this.flatten(t)):i.push(t);return i},e.prototype.getKeys=function(e,t){var i,n;n=[];for(i in e)e.hasOwnProperty(i)&&("object"===e[i]?n=n.concat(this.getKeys(e[i],t)):e[i]===t&&n.push(i));return n},e.prototype.getQueryVariable=function(e){var t,i,n;return t=window.location.search.substring(1),n=t.split("&"),i=n.filter(function(t){var i;return i=t.split("="),decodeURIComponent(i[0])===e?decodeURIComponent(i[1]):void 0})},e.prototype.isElementInView=function(e){var t;return e instanceof jQuery&&(e=e.get(0)),t=e.getBoundingClientRect(),(Math.abs(t.left)>=0&&Math.abs(t.top))<=(window.innerHeight||document.documentElement.clientHeight)},e.prototype.isMobile=function(){var e;return e=/(Android|iPhone|iPad|iPod|IEMobile)/g.test(navigator.userAgent)},e.prototype.last=function(e,t){return e[e.length-(t||0)-1]},e.prototype.preCacheImgs=function(e){var t;return t=function(e){var t,i,n,s;for(t=0,s=[];t<e.length;)n=e[t],i=new Image,i.src=n,s.push(t++);return s},t(e),this},e.prototype.preCacheVideos=function(e){var t;return t=function(e){var t,i,n,s;for(t=0,s=[];t<e.length;)i=e[t],n=document.createElement("video"),n.src=i,s.push(t++);return s},t(e),this},e.prototype.toggleClass=function(e,t){var i,n;return e&&t?(e instanceof jQuery&&(e=e.get(0)),i=e.className,n=i.indexOf(t),-1===n?i+=" "+t:i=i.substr(0,n)+i.substr(n+t.length),e.className=i.trim(),this):this},e.prototype.hasClass=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},e.prototype.addClass=function(e,t){return this.hasClass(e,t)||(e.className+=" "+t),this},e.prototype.removeClass=function(e,t){var i;if(i=" "+e.className.replace(/[\t\r\n]/g," ")+" ",this.hasClass(e,t)){for(;i.indexOf(" "+t+" ")>=0;)i=i.replace(" "+t+" "," ");e.className=i.replace(/^\s+|\s+$/g,"")}return this},e.prototype.findAttr=function(e,t){var i,n,s,r;if(null!=e){for(n=this.flatten(e.attributes),s=0,r=n.length;r>s;s++)if(i=n[s],!i.name.indexOf(t))return{ele:e,attrName:i.name,attrVal:i.value};return this.findAttr(e.parentElement,t)}},e.prototype.truthful=function(e){var t,i,n,s;for(s=[],i=0,n=e.length;n>i;i++)t=e[i],t&&s.push(t);return s},e.prototype.flattenObject=function(e){var t,i;t=[];for(i in e)e.hasOwnProperty(i)&&t.push(e[i]);return t},e.prototype.isElement=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},e}(),window.core=new e}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e,i,n){var s,r;this.data=e,this.bindClose=t(this.bindClose,this),this.bindOpen=t(this.bindOpen,this),this.toggleModal=t(this.toggleModal,this),this.createModal=t(this.createModal,this),this.getModal=t(this.getModal,this),this.data instanceof jQuery&&(this.data=this.data.get(0)),"string"!=typeof this.data?(r=this.data.attributes[i].value.split(","),r=r.map(function(e){return e.trim()}),s=r[0]):s=this.data,this._properties={_id:s,triggers:document.querySelectorAll("["+i+'*="'+s+'"]'),"class":null!=r?r[1]:void 0,preload:null!=r?r[2]:void 0},"undefined"!=typeof EventEmitter&&null!==EventEmitter&&(this.events=new EventEmitter),(this._properties.preload||"preload"===n)&&this.getModal(),"string"!=typeof this.data&&this.bindOpen()}return e.prototype.getModal=function(e){var t,i,n,s;return s=document.querySelectorAll('[data-modal="'+this._properties._id+'"]')[0],s?(this._properties.inDOM=!0,null==this._properties.modal&&(this._properties.modal=s,this.bindClose())):(this._properties.inDOM=!1,i=Handlebars.getTemplate(this._properties._id),s=document.createElement("div"),null!=this._properties["class"]&&core.addClass(s,this._properties["class"]),core.addClass(s,"modal"),s.setAttribute("data-modal",this._properties._id),n={},null!=this._properties.triggers[0]&&this._properties.triggers[0].attributes["data-modal-content"]&&(n=JSON.parse(this._properties.triggers[0].attributes["data-modal-content"].value)),"function"==typeof i?(s.innerHTML=i(n),this.createModal(s)):(t=new XMLHttpRequest,t.onreadystatechange=function(i){return function(){return 4===t.readyState&&200===t.status?(s.innerHTML=t.response,i.createModal(s,e)):void 0}}(this),t.open("GET",this._properties._id,!1),t.send())),this},e.prototype.toggleClasses=function(e){var t;return core.toggleClass(e,"modal--active"),t=document.getElementsByTagName("html")[0],core.toggleClass(t,"modal--opened")},e.prototype.createModal=function(e,t){return this._properties.modal=e,this.bindClose(),!this._properties.inDOM&&(document.getElementsByTagName("body")[0].appendChild(this._properties.modal),core.updateModels(this._properties.modal),this.events.emit("added",this._properties.modal),this._properties.inDOM=!0,t)?this.toggleModal():void 0},e.prototype.toggleModal=function(){return void 0===this._properties.modal?this.getModal(!0):(this.toggleClasses(this._properties.modal),core.hasClass(this._properties.modal,"modal--active")?this.events.emit("open",this._properties.modal):this.events.emit("close",this._properties.modal)),this},e.prototype.bindOpen=function(){var e,t,i,n,s;for(s=this._properties.triggers,i=0,n=s.length;n>i;i++)t=s[i],e=function(e){return function(t){return t.preventDefault(),null==e._properties.modal&&e.getModal(),e.toggleModal()}}(this),t.addEventListener("click",e,!1);return this},e.prototype.bindClose=function(){var e,t,i,n;if(this.closeBtns=this._properties.modal.querySelectorAll('[data-modal-close="'+this._properties._id+'"]'),this.closeBtns)for(n=this.closeBtns,t=0,i=n.length;i>t;t++)e=n[t],e.addEventListener("click",this.toggleModal,!1);return this},e}(),"undefined"!=typeof core&&null!==core&&core.addPlugin("Modal",e,"[data-modal-open]")}.call(this),function(e){var t={isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return"undefined"==typeof e},bind:e.proxy,each:function(t,i){function n(e,t){return i(t,e)}e.each(t,n)},map:e.map,filter:e.grep,every:function(t,i){var n=!0;return t?(e.each(t,function(e,s){return(n=i.call(null,s,e,t))?void 0:!1}),!!n):n},some:function(t,i){var n=!1;return t?(e.each(t,function(e,s){return(n=i.call(null,s,e,t))?!1:void 0}),!!n):n},mixin:e.extend,getUniqueId:function(){var e=0;return function(){return e++}}(),templatify:function(t){function i(){return String(t)}return e.isFunction(t)?t:i},defer:function(e){setTimeout(e,0)},debounce:function(e,t,i){var n,s;return function(){var r,o,a=this,l=arguments;return r=function(){n=null,i||(s=e.apply(a,l))},o=i&&!n,clearTimeout(n),n=setTimeout(r,t),o&&(s=e.apply(a,l)),s}},throttle:function(e,t){var i,n,s,r,o,a;return o=0,a=function(){o=new Date,s=null,r=e.apply(i,n)},function(){var l=new Date,c=t-(l-o);return i=this,n=arguments,0>=c?(clearTimeout(s),s=null,o=l,r=e.apply(i,n)):s||(s=setTimeout(a,c)),r}},noop:function(){}},i="0.10.1",n=function(){function e(e){this.maxSize=e||100,this.size=0,this.hash={},this.list=new i}function i(){this.head=this.tail=null}function n(e,t){this.key=e,this.val=t,this.prev=this.next=null}return t.mixin(e.prototype,{set:function(e,t){var i,s=this.list.tail;this.size>=this.maxSize&&(this.list.remove(s),delete this.hash[s.key]),(i=this.hash[e])?(i.val=t,this.list.moveToFront(i)):(i=new n(e,t),this.list.add(i),this.hash[e]=i,this.size++)},get:function(e){var t=this.hash[e];return t?(this.list.moveToFront(t),t.val):void 0}}),t.mixin(i.prototype,{add:function(e){this.head&&(e.next=this.head,this.head.prev=e),this.head=e,this.tail=this.tail||e},remove:function(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e),this.add(e)}}),e}(this),s=function(){function e(e){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+this.prefix)}function i(){return(new Date).getTime()}function n(e){return JSON.stringify(t.isUndefined(e)?null:e)}function s(e){return JSON.parse(e)}var r,o;try{r=window.localStorage,r.setItem("~~~","!"),r.removeItem("~~~")}catch(a){r=null}return o=r&&window.JSON?{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},get:function(e){return this.isExpired(e)&&this.remove(e),s(r.getItem(this._prefix(e)))},set:function(e,s,o){return t.isNumber(o)?r.setItem(this._ttlKey(e),n(i()+o)):r.removeItem(this._ttlKey(e)),r.setItem(this._prefix(e),n(s))},remove:function(e){return r.removeItem(this._ttlKey(e)),r.removeItem(this._prefix(e)),this},clear:function(){var e,t,i=[],n=r.length;for(e=0;n>e;e++)(t=r.key(e)).match(this.keyMatcher)&&i.push(t.replace(this.keyMatcher,""));for(e=i.length;e--;)this.remove(i[e]);return this},isExpired:function(e){var n=s(r.getItem(this._ttlKey(e)));return t.isNumber(n)&&i()>n?!0:!1}}:{get:t.noop,set:t.noop,remove:t.noop,clear:t.noop,isExpired:t.noop},t.mixin(e.prototype,o),e}(),r=function(){function i(t){t=t||{},this._send=t.transport?s(t.transport):e.ajax,this._get=t.rateLimiter?t.rateLimiter(this._get):this._get}function s(i){return function(n,s){function r(e){t.defer(function(){a.resolve(e)})}function o(e){t.defer(function(){a.reject(e)})}var a=e.Deferred();return i(n,s,r,o),a}}var r=0,o={},a=6,l=new n(10);return i.setMaxPendingRequests=function(e){a=e},i.resetCache=function(){l=new n(10)},t.mixin(i.prototype,{_get:function(e,t,i){function n(t){i&&i(t),l.set(e,t)}function s(){r--,delete o[e],u.onDeckRequestArgs&&(u._get.apply(u,u.onDeckRequestArgs),u.onDeckRequestArgs=null)}var c,u=this;(c=o[e])?c.done(n):a>r?(r++,o[e]=this._send(e,t).done(n).always(s)):this.onDeckRequestArgs=[].slice.call(arguments,0)},get:function(e,i,n){var s;return t.isFunction(i)&&(n=i,i={}),(s=l.get(e))?t.defer(function(){n&&n(s)}):this._get(e,i,n),!!s}}),i}(),o=function(){function i(t){t=t||{},t.datumTokenizer&&t.queryTokenizer||e.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=t.datumTokenizer,this.queryTokenizer=t.queryTokenizer,this.datums=[],this.trie=s()}function n(e){return e=t.filter(e,function(e){return!!e}),e=t.map(e,function(e){return e.toLowerCase()})}function s(){return{ids:[],children:{}}}function r(e){for(var t={},i=[],n=0;n<e.length;n++)t[e[n]]||(t[e[n]]=!0,i.push(e[n]));return i}function o(e,t){function i(e,t){return e-t}var n=0,s=0,r=[];for(e=e.sort(i),t=t.sort(i);n<e.length&&s<t.length;)e[n]<t[s]?n++:e[n]>t[s]?s++:(r.push(e[n]),n++,s++);return r}return t.mixin(i.prototype,{bootstrap:function(e){this.datums=e.datums,this.trie=e.trie},add:function(e){var i=this;e=t.isArray(e)?e:[e],t.each(e,function(e){var r,o;r=i.datums.push(e)-1,o=n(i.datumTokenizer(e)),t.each(o,function(e){var t,n,o;for(t=i.trie,n=e.split("");o=n.shift();)t=t.children[o]||(t.children[o]=s()),t.ids.push(r)})})},get:function(e){var i,s,a=this;return i=n(this.queryTokenizer(e)),t.each(i,function(e){var t,i,n,r;if(s&&0===s.length)return!1;for(t=a.trie,i=e.split("");t&&(n=i.shift());)t=t.children[n];return t&&0===i.length?(r=t.ids.slice(0),void(s=s?o(s,r):r)):(s=[],!1)}),s?t.map(r(s),function(e){return a.datums[e]}):[]},serialize:function(){return{datums:this.datums,trie:this.trie}}}),i}(),a=function(){function n(e){var i=e.local||null;return t.isFunction(i)&&(i=i.call(null)),i}function s(n){var s,r;return r={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(s=n.prefetch||null)&&(s=t.isString(s)?{url:s}:s,s=t.mixin(r,s),s.thumbprint=i+s.thumbprint,s.ajax.type=s.ajax.type||"GET",s.ajax.dataType=s.ajax.dataType||"json",!s.url&&e.error("prefetch requires url to be set")),s}function r(i){function n(e){return function(i){return t.debounce(i,e)}}function s(e){return function(i){return t.throttle(i,e)}}var r,o;return o={url:null,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(r=i.remote||null)&&(r=t.isString(r)?{url:r}:r,r=t.mixin(o,r),r.rateLimiter=/^throttle$/i.test(r.rateLimitBy)?s(r.rateLimitWait):n(r.rateLimitWait),r.ajax.type=r.ajax.type||"GET",r.ajax.dataType=r.ajax.dataType||"json",delete r.rateLimitBy,delete r.rateLimitWait,!r.url&&e.error("remote requires url to be set")),r}return{local:n,prefetch:s,remote:r}}(),l=(window.Bloodhound=function(){function i(t){t&&(t.local||t.prefetch||t.remote)||e.error("one of local, prefetch, or remote is required"),this.limit=t.limit||5,this.sorter=n(t.sorter),this.dupDetector=t.dupDetector||l,this.local=a.local(t),this.prefetch=a.prefetch(t),this.remote=a.remote(t),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new o({datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),this.storage=this.cacheKey?new s(this.cacheKey):null}function n(e){function i(t){return t.sort(e)}function n(e){return e}return t.isFunction(e)?i:n}function l(){return!1}var c;return c={data:"data",protocol:"protocol",thumbprint:"thumbprint"},i.tokenizers={whitespace:function(e){return e.split(/\s+/)},nonword:function(e){return e.split(/\W+/)}},t.mixin(i.prototype,{_loadPrefetch:function(t){function i(e){var i;i=t.filter?t.filter(e):e,r.add(i),r._saveToStorage(r.index.serialize(),t.thumbprint,t.ttl)}var n,s,r=this;return(n=this._readFromStorage(t.thumbprint))?(this.index.bootstrap(n),s=e.Deferred().resolve()):s=e.ajax(t.url,t.ajax).done(i),s},_getFromRemote:function(e,t){function i(e){var i=r.remote.filter?r.remote.filter(e):e;t(i)}var n,s,r=this;return e=e||"",s=encodeURIComponent(e),n=this.remote.replace?this.remote.replace(this.remote.url,e):this.remote.url.replace(this.remote.wildcard,s),this.transport.get(n,this.remote.ajax,i)},_saveToStorage:function(e,t,i){this.storage&&(this.storage.set(c.data,e,i),this.storage.set(c.protocol,location.protocol,i),this.storage.set(c.thumbprint,t,i))},_readFromStorage:function(e){var t,i={};return this.storage&&(i.data=this.storage.get(c.data),i.protocol=this.storage.get(c.protocol),i.thumbprint=this.storage.get(c.thumbprint)),t=i.thumbprint!==e||i.protocol!==location.protocol,i.data&&!t?i.data:null},initialize:function(){function t(){n.add(n.local)}var i,n=this;return i=this.prefetch?this._loadPrefetch(this.prefetch):e.Deferred().resolve(),this.local&&i.done(t),this.transport=this.remote?new r(this.remote):null,this.initialize=function(){return i.promise()},i.promise()},add:function(e){this.index.add(e)},get:function(e,i){function n(e){var n=s.slice(0);t.each(e,function(e){var i;return i=t.some(n,function(t){return r.dupDetector(e,t)}),!i&&n.push(e),n.length<r.limit}),i&&i(r.sorter(n))}var s,r=this,o=!1;s=this.index.get(e),s=this.sorter(s).slice(0,this.limit),s.length<this.limit&&this.transport&&(o=this._getFromRemote(e,n)),!o&&i&&i(s)},ttAdapter:function(){return t.bind(this.get,this)}}),i}(),{wrapper:'<div class="twitter-typeahead"></div>',dropdown:'<span class="tt-dropdown-menu  search-helper"></span>',dataset:'<div class="tt-dataset-%CLASS% "></div>',suggestions:'<ul class="tt-suggestions"></ul>',suggestion:'<li class="tt-suggestion ">%BODY%</li>'}),c={wrapper:{position:"relative",display:"inline-block"},hint:{},input:{},inputWithNoHint:{},dropdown:{zIndex:"100",display:"none"},suggestions:{display:"inline-block"},suggestion:{whiteSpace:"nowrap",display:"inline-block",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{},rtl:{left:"auto",right:" 0"}};t.isMsie()&&t.mixin(c.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t.isMsie()&&t.isMsie()<=7&&t.mixin(c.input,{marginTop:"-1px"});var u=function(){function i(t){t&&t.el||e.error("EventBus initialized without el"),this.$el=e(t.el)}var n="typeahead:";return t.mixin(i.prototype,{trigger:function(e){var t=[].slice.call(arguments,1);this.$el.trigger(n+e,t)}}),i}(),d=function(){function e(e,t,i,n){var s;if(!i)return this;for(t=t.split(l),i=n?a(i,n):i,this._callbacks=this._callbacks||{};s=t.shift();)this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][e].push(i);return this}function t(t,i,n){return e.call(this,"async",t,i,n)}function i(t,i,n){return e.call(this,"sync",t,i,n)}function n(e){var t;if(!this._callbacks)return this;for(e=e.split(l);t=e.shift();)delete this._callbacks[t];return this}function s(e){var t,i,n,s,o;if(!this._callbacks)return this;for(e=e.split(l),n=[].slice.call(arguments,1);(t=e.shift())&&(i=this._callbacks[t]);)s=r(i.sync,this,[t].concat(n)),o=r(i.async,this,[t].concat(n)),s()&&c(o);return this}function r(e,t,i){function n(){for(var n,s=0;!n&&s<e.length;s+=1)n=e[s].apply(t,i)===!1;return!n}return n}function o(){var e;return e=window.setImmediate?function(e){setImmediate(function(){e()})}:function(e){setTimeout(function(){e()},0)}}function a(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}var l=/\s+/,c=o();return{onSync:i,onAsync:t,off:n,trigger:s}}(),p=function(e){function i(e,i,n){for(var s,r=[],o=0;o<e.length;o++)r.push(t.escapeRegExChars(e[o]));return s=n?"\\b("+r.join("|")+")\\b":"("+r.join("|")+")",i?new RegExp(s):new RegExp(s,"i")}var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(s){function r(t){var i,n;return(i=a.exec(t.data))&&(wrapperNode=e.createElement(s.tagName),s.className&&(wrapperNode.className=s.className),n=t.splitText(i.index),n.splitText(i[0].length),wrapperNode.appendChild(n.cloneNode(!0)),t.parentNode.replaceChild(wrapperNode,n)),!!i}function o(e,t){for(var i,n=3,s=0;s<e.childNodes.length;s++)i=e.childNodes[s],i.nodeType===n?s+=t(i)?1:0:o(i,t)}var a;s=t.mixin({},n,s),s.node&&s.pattern&&(s.pattern=t.isArray(s.pattern)?s.pattern:[s.pattern],a=i(s.pattern,s.caseSensitive,s.wordsOnly),o(s.node,r))}}(window.document),h=function(){function i(i){var s,r,a,l,c=this;i=i||{},i.input||e.error("input is missing"),s=t.bind(this._onBlur,this),r=t.bind(this._onFocus,this),a=t.bind(this._onKeydown,this),l=t.bind(this._onInput,this),this.$hint=e(i.hint),this.$input=e(i.input).on("blur.tt",s).on("focus.tt",r).on("keydown.tt",a),0===this.$hint.length&&(this.setHintValue=this.getHintValue=this.clearHint=t.noop),t.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){o[e.which||e.keyCode]||t.defer(t.bind(c._onInput,c,e))}):this.$input.on("input.tt",l),this.query=this.$input.val(),this.$overflowHelper=n(this.$input)}function n(t){return e('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"nowrap",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function s(e,t){return i.normalizeQuery(e)===i.normalizeQuery(t)}function r(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}var o;return o={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(e){return(e||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(i.prototype,d,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(e){var t=o[e.which||e.keyCode];this._managePreventDefault(t,e),t&&this._shouldTrigger(t,e)&&this.trigger(t+"Keyed",e)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(e,t){var i,n,s;switch(e){case"tab":n=this.getHintValue(),s=this.getInputValue(),i=n&&n!==s&&!r(t);break;case"up":case"down":i=!r(t);break;default:i=!1}i&&t.preventDefault()},_shouldTrigger:function(e,t){var i;switch(e){case"tab":i=!r(t);break;default:i=!0}return i},_checkInputValue:function(){var e,t,i;e=this.getInputValue(),t=s(e,this.query),i=t?this.query.length!==e.length:!1,t?i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query=e)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(e){this.query=e},getInputValue:function(){return this.$input.val()},setInputValue:function(e,t){this.$input.val(e),!t&&this._checkInputValue()},getHintValue:function(){return this.$hint.val()},setHintValue:function(e){this.$hint.val(e)},resetInputValue:function(){this.$input.val(this.query)},clearHint:function(){this.$hint.val("")},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,i,n;return e=this.$input.val().length,i=this.$input[0].selectionStart,t.isNumber(i)?i===e:document.selection?(n=document.selection.createRange(),n.moveStart("character",-e),e===n.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),i}(),f=function(){function i(i){i=i||{},i.templates=i.templates||{},i.source||e.error("missing source"),i.name&&!r(i.name)&&e.error("invalid dataset name: "+i.name),this.query=null,this.highlight=!!i.highlight,this.name=i.name||t.getUniqueId(),this.source=i.source,this.displayFn=n(i.display||i.displayKey),this.templates=s(i.templates,this.displayFn),this.$el=e(l.dataset.replace("%CLASS%",this.name))}function n(e){function i(t){return t[e]}return e=e||"value",t.isFunction(e)?e:i}function s(e,i){function n(e){return"<p>"+i(e)+"</p>"}return{empty:e.empty&&t.templatify(e.empty),header:e.header&&t.templatify(e.header),footer:e.footer&&t.templatify(e.footer),suggestion:e.suggestion||n}}function r(e){return/^[_a-zA-Z0-9-]+$/.test(e)}var o="ttDataset",a="ttValue",u="ttDatum";return i.extractDatasetName=function(t){return e(t).data(o)},i.extractValue=function(t){return e(t).data(a)},i.extractDatum=function(t){return e(t).data(u)},t.mixin(i.prototype,d,{_render:function(i,n){function s(){return g.templates.empty({query:i,isEmpty:!0})}function r(){function s(t){var i,n,s;return n=g.templates.suggestion(t),s=l.suggestion.replace("%BODY%",n),i=e(s).data(o,g.name).data(a,g.displayFn(t)).data(u,t),i.children().each(function(){e(this).css(c.suggestionChild)}),i}var r,d;return r=e(l.suggestions).css(c.suggestions),d=t.map(n,s),r.append.apply(r,d),g.highlight&&p({node:r[0],pattern:i}),r}function d(){return g.templates.header({query:i,isEmpty:!f})}function h(){return g.templates.footer({query:i,isEmpty:!f})}if(this.$el){var f,g=this;this.$el.empty(),f=n&&n.length,!f&&this.templates.empty?this.$el.html(s()).prepend(g.templates.header?d():null).append(g.templates.footer?h():null):f&&this.$el.html(r()).prepend(g.templates.header?d():null).append(g.templates.footer?h():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(e){function t(t){e===i.query&&i._render(e,t)}var i=this;this.query=e,this.source(e,t)},clear:function(){this._render(this.query||"")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),i}(),g=function(){function i(i){var s,r,o,a=this;i=i||{},i.menu||e.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=t.map(i.datasets,n),s=t.bind(this._onSuggestionClick,this),r=t.bind(this._onSuggestionMouseEnter,this),o=t.bind(this._onSuggestionMouseLeave,this),this.$menu=e(i.menu).on("click.tt",".tt-suggestion",s).on("mouseenter.tt",".tt-suggestion",r).on("mouseleave.tt",".tt-suggestion",o),t.each(this.datasets,function(e){a.$menu.append(e.getRoot()),e.onSync("rendered",a._onRendered,a)})}function n(e){return new f(e)}return t.mixin(i.prototype,d,{_onSuggestionClick:function(t){this.trigger("suggestionClicked",e(t.currentTarget))},_onSuggestionMouseEnter:function(t){this._removeCursor(),this._setCursor(e(t.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function e(e){return e.isEmpty()}this.isEmpty=t.every(this.datasets,e),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(e,t){e.first().addClass("tt-cursor"),!t&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(e){var t,i,n,s;if(this.isOpen){if(i=this._getCursor(),t=this._getSuggestions(),this._removeCursor(),n=t.index(i)+e,n=(n+1)%(t.length+1)-1,-1===n)return void this.trigger("cursorRemoved");-1>n&&(n=t.length-1),this._setCursor(s=t.eq(n)),this._ensureVisible(s)}},_ensureVisible:function(e){var t,i,n,s;t=e.position().top,i=t+e.outerHeight(!0),n=this.$menu.scrollTop(),s=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>t?this.$menu.scrollTop(n+t):i>s&&this.$menu.scrollTop(n+(i-s))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(e){this.$menu.css("ltr"===e?c.ltr:c.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(e){var t=null;return e.length&&(t={raw:f.extractDatum(e),value:f.extractValue(e),datasetName:f.extractDatasetName(e)}),t
},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(e){function i(t){t.update(e)}t.each(this.datasets,i)},empty:function(){function e(e){e.clear()}t.each(this.datasets,e),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function e(e){e.destroy()}this.$menu.off(".tt"),this.$menu=null,t.each(this.datasets,e)}}),i}(),m=function(){function i(i){var s,r,o;i=i||{},i.input||e.error("missing input"),this.autoselect=!!i.autoselect,this.minLength=t.isNumber(i.minLength)?i.minLength:1,this.$node=n(i.input,i.withHint),s=this.$node.find(".tt-dropdown-menu"),r=this.$node.find(".tt-input"),o=this.$node.find(".tt-hint"),this.eventBus=i.eventBus||new u({el:r}),this.dropdown=new g({menu:s,datasets:i.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new h({input:r,hint:o}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),s.on("mousedown.tt",function(e){t.isMsie()&&t.isMsie()<9&&(r[0].onbeforedeactivate=function(){window.event.returnValue=!1,r[0].onbeforedeactivate=null}),e.preventDefault()})}function n(t,i){var n,r,a,u;n=e(t),r=e(l.wrapper).css(c.wrapper),a=e(l.dropdown).css(c.dropdown),u=n.clone().css(c.hint).css(s(n)),u.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder").prop("disabled",!0).attr({autocomplete:"off",spellcheck:"false"}),n.data(o,{dir:n.attr("dir"),autocomplete:n.attr("autocomplete"),spellcheck:n.attr("spellcheck"),style:n.attr("style")}),n.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(i?c.input:c.inputWithNoHint);try{!n.attr("dir")&&n.attr("dir","auto")}catch(d){}return n.wrap(r).parent().prepend(i?u:null).append(a)}function s(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}function r(e){var i=e.find(".tt-input");t.each(i.data(o),function(e,n){t.isUndefined(e)?i.removeAttr(n):i.attr(n,e)}),i.detach().removeData(o).removeClass("tt-input").insertAfter(e),e.remove()}var o="ttAttrs";return t.mixin(i.prototype,{_onSuggestionClicked:function(e,t){var i;(i=this.dropdown.getDatumForSuggestion(t))&&this._select(i)},_onCursorMoved:function(){var e=this.dropdown.getDatumForCursor();this.input.clearHint(),this.input.setInputValue(e.value,!0),this.eventBus.trigger("cursorchanged",e.raw,e.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.dropdown.empty(),this.dropdown.open()},_onBlurred:function(){this.dropdown.close()},_onEnterKeyed:function(e,t){var i,n;i=this.dropdown.getDatumForCursor(),n=this.dropdown.getDatumForTopSuggestion(),i?(this._select(i),t.preventDefault()):this.autoselect&&n&&(this._select(n),t.preventDefault())},_onTabKeyed:function(e,t){var i;(i=this.dropdown.getDatumForCursor())?(this._select(i),t.preventDefault()):this._autocomplete()},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var e=this.input.getQuery();!this.dropdown.isOpen&&e.length>=this.minLength&&this.dropdown.update(e),this.dropdown.open(),this.dropdown.moveCursorUp()},_onDownKeyed:function(){var e=this.input.getQuery();!this.dropdown.isOpen&&e.length>=this.minLength&&this.dropdown.update(e),this.dropdown.open(),this.dropdown.moveCursorDown()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(e,t){this.input.clearHint(),this.dropdown.empty(),t.length>=this.minLength&&this.dropdown.update(t),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var e;this.dir!==(e=this.input.getLanguageDirection())&&(this.dir=e,this.$node.css("direction",e),this.dropdown.setLanguageDirection(e))},_updateHint:function(){var e,i,n,s,r,o;e=this.dropdown.getDatumForTopSuggestion(),e&&this.dropdown.isVisible()&&!this.input.hasOverflow()&&(i=this.input.getInputValue(),n=h.normalizeQuery(i),s=t.escapeRegExChars(n),r=new RegExp("^(?:"+s+")(.*$)","i"),o=r.exec(e.value),this.input.setHintValue(i+(o?o[1]:"")))},_autocomplete:function(){var e,t,i;e=this.input.getHintValue(),t=this.input.getQuery(),e&&t!==e&&this.input.isCursorAtEnd()&&(i=this.dropdown.getDatumForTopSuggestion(),i&&this.input.setInputValue(i.value),this.eventBus.trigger("autocompleted",i.raw,i.datasetName))},_select:function(e){this.input.clearHint(),this.input.setQuery(e.value),this.input.setInputValue(e.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",e.raw,e.datasetName),this.dropdown.close(),t.defer(t.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},getQuery:function(){return this.input.getQuery()},setQuery:function(e){this.input.setInputValue(e)},destroy:function(){this.input.destroy(),this.dropdown.destroy(),r(this.$node),this.$node=null}}),i}();!function(){var i,n,s;i=e.fn.typeahead,n="ttTypeahead",s={initialize:function(i,s){function r(){var r,o,a=e(this);t.each(s,function(e){e.highlight=!!i.highlight}),o=new m({input:a,eventBus:r=new u({el:a}),withHint:t.isUndefined(i.hint)?!0:!!i.hint,minLength:i.minLength,autoselect:i.autoselect,datasets:s}),a.data(n,o)}return s=t.isArray(s)?s:[].slice.call(arguments,1),i=i||{},this.each(r)},open:function(){function t(){var t,i=e(this);(t=i.data(n))&&t.open()}return this.each(t)},close:function(){function t(){var t,i=e(this);(t=i.data(n))&&t.close()}return this.each(t)},val:function(t){function i(){var i,s=e(this);(i=s.data(n))&&i.setQuery(t)}function s(e){var t,i;return(t=e.data(n))&&(i=t.getQuery()),i}return arguments.length?this.each(i):s(this.first())},destroy:function(){function t(){var t,i=e(this);(t=i.data(n))&&(t.destroy(),i.removeData(n))}return this.each(t)}},e.fn.typeahead=function(e){return s[e]?s[e].apply(this,[].slice.call(arguments,1)):s.initialize.apply(this,arguments)},e.fn.typeahead.noConflict=function(){return e.fn.typeahead=i,this}}()}(window.jQuery),function(){var e,t,i=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,s=function(e,t){function i(){this.constructor=e}for(var s in t)n.call(t,s)&&(e[s]=t[s]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=function(){function e(e,t,n){var s,r,o,a,l,c,u,d,p;for(this.data=e,this.extend=i(this.extend,this),this.showPage=i(this.showPage,this),this.prepResults=i(this.prepResults,this),this.validate=i(this.validate,this),this.search=i(this.search,this),this.updateUrl=i(this.updateUrl,this),this.bindAutoComplete=i(this.bindAutoComplete,this),this.bindTriggers=i(this.bindTriggers,this),this.bindKeyup=i(this.bindKeyup,this),this.getQueryVariable=i(this.getQueryVariable,this),this.storeQueryTerm=i(this.storeQueryTerm,this),this.manageClasses=i(this.manageClasses,this),this.mapEvents=i(this.mapEvents,this),this.bindAutofill=i(this.bindAutofill,this),this.clean=i(this.clean,this),this.data instanceof jQuery&&(this.data=this.data.get(0)),l=this.data.attributes[t].value.split(","),l=l.map(function(e){return e.trim()}),l.length>2&&(a=l.splice(0,1),o=l.join(","),l=a.concat(o)),s=function(){try{return JSON.parse(this.data.attributes["data-google-search-autocomplete"].value)}catch(e){return r=e,null}}.call(this),this._properties={_id:l[0],type:n._id,params:function(){try{return JSON.parse(l[1])}catch(e){return r=e,{}}}(),target:this.data,autocomplete:s,triggers:{},query:{},config:n,response:{target:document.querySelectorAll("["+t+'-results="'+l[0]+'"]')[0]}},"undefined"!=typeof EventEmitter&&null!==EventEmitter&&(this.events=new EventEmitter),u=["open","close","trigger"],d=0,p=u.length;p>d;d++)c=u[d],this._properties.triggers[c]=document.querySelectorAll("["+t+"-"+c+'="'+l[0]+'"]')[0];this.mapEvents().bindKeyup().bindAutoComplete().extend(),(null!=this._properties.triggers.open||null!=this._properties.triggers.close||null!=this._properties.triggers.trigger)&&this.bindTriggers(),this._properties.triggers.link=document.querySelectorAll("["+t+'-link="'+l[0]+'"]'),null!=this._properties.triggers.link&&this.bindAutofill(),this.events.emit("search-ready")}return e.prototype.clean=function(){var e,t;for(this._properties.target.value="",this._properties.query={},history.pushState("","",window.location.origin+(window.location.pathname||"")),core.removeClass(this._properties.target,"searching"),core.addClass(this._properties.target,"search"),core.addClass(this._properties.response.target,"searching"),core.removeClass(this._properties.response.target,"results--returned"),e=this._properties.response.target,t=[];e.firstChild;)t.push(e.removeChild(e.firstChild));return t},e.prototype.bindAutofill=function(){var e,t,i,n,s;for(s=this._properties.triggers.link,i=0,n=s.length;n>i;i++)e=s[i],t=function(e){return function(){var t;return t=event.target.innerHTML.replace(/[\.,-\/#!$%\^&\*;:{}=\-_`~()]/g,"").trim(),e.events.emit("search",t)}}(this),e.addEventListener("click",t,!1);return this},e.prototype.mapEvents=function(){return this.events.on("clean",this.clean),this.events.on("search-ready",function(e){return function(){return e._properties.target.value=e.getQueryVariable(),e.manageClasses("search-ready"),e._properties.target.value.length>3?e.events.emit("search",e._properties.target.value):void 0}}(this)),$(this._properties.target).bind("typeahead:selected",function(e){return function(t){return e._properties.target.blur(),e.events.emit("search",t.target.value)}}(this)),this.events.on("search",function(e){return function(t){var i;return t!==e._properties.query._search&&(e._properties.query={}),e.storeQueryTerm(t),e._properties.target.blur(),e._properties.target.value=t,i=document.getElementsByTagName("BODY")[0],"do a barrel roll"===t?core.addClass(i,"roll"):core.removeClass(i,"roll"),e.events.emit("query-changed"),e.search()}}(this)),this.events.on("query-changed",this.updateUrl),this.events.on("searching",function(e){return function(){return e.manageClasses("searching")}}(this)),this.events.on("result",function(e){return function(t){return e.validate(t)}}(this)),this.events.on("results-prep",function(e){return function(t){return e.prepResults(t)}}(this)),this.events.on("results-ready",function(e){return function(t){return e.showPage(t)}}(this)),this.events.on("results-rendered",function(e){return function(){return e.manageClasses("results--returned")}}(this)),this},e.prototype.manageClasses=function(e){var t,i,n,s,r,o,a,l,c,u,d,p,h,f,g,m,v;switch(t=[this._properties.target,this._properties.triggers.open,this._properties.triggers.close,this._properties.response.target],t=t.filter(core.isElement),e){case"search-ready":for(g=[],n=0,a=t.length;a>n;n++)i=t[n],g.push(core.addClass(i,e));return g;case"searching":for(s=0,l=t.length;l>s;s++)i=t[s],core.removeClass(i,"search-ready");for(m=[],r=0,c=t.length;c>r;r++)i=t[r],m.push(core.addClass(i,e));return m;case"results--returned":for(o=0,u=t.length;u>o;o++)i=t[o],core.addClass(i,"search-ready");for(h=0,d=t.length;d>h;h++)i=t[h],core.removeClass(i,"searching");for(v=[],f=0,p=t.length;p>f;f++)i=t[f],v.push(core.addClass(i,e));return v}},e.prototype.storeQueryTerm=function(e){return this._properties.query._search=e,this},e.prototype.getQueryVariable=function(){var e,t,i,n,s,r,o;if(t=window.location.search.substring(1),s=t.split("?")[0].split("&"),window.location.hash.split("#")[1]===this._properties._id){for(r=0,o=s.length;o>r;r++)n=s[r],e=n.split("=")[0],"search"===e?(i=decodeURIComponent(n.split("=")[1]),this.storeQueryTerm(i)):e&&n&&(this._properties.query[e]=n);this.events.emit("open")}return null==i&&(i=""),i},e.prototype.bindKeyup=function(){return this._properties.target.addEventListener("keyup",function(e){return function(t){var i;return i=e._properties.target,0===i.value.length&&e.events.emit("clean"),13===t.keyCode?e.events.emit("search",i.value):void 0}}(this),!1),this},e.prototype.bindTriggers=function(){var e,t,i;return this.events.on("open",function(e){return function(){return core.hasClass(e._properties.target,"active")||e._properties.target.focus(),core.toggleClass(e._properties.target,"active"),setTimeout(function(){return e.events.emit("extend-open")},0)}}(this)),this.events.on("close",function(e){return function(){return core.toggleClass(e._properties.target,"active"),setTimeout(function(){return e.events.emit("extend-close")},0),e.events.emit("clean")}}(this)),null!=this._properties.triggers.open&&core.isElement(this._properties.triggers.open)&&(t=function(e){return function(){return e.events.emit("open")}}(this),this._properties.triggers.open.addEventListener("click",t,!1)),null!=this._properties.triggers.close&&core.isElement(this._properties.triggers.close)&&(e=function(e){return function(){return e.events.emit("close")}}(this),this._properties.triggers.close.addEventListener("click",e,!1)),null!=this._properties.triggers.trigger&&core.isElement(this._properties.triggers.trigger)?(i=function(e){return function(){return e.events.emit("search",e._properties.target.value)}}(this),this._properties.triggers.trigger.addEventListener("click",i,!1)):void 0},e.prototype.bindAutoComplete=function(){var e,t,i,n,s,r,o,a,l,c,u,d,p,h;if(null!=this._properties.autocomplete&&"undefined"!=typeof Bloodhound&&null!==Bloodhound){for(a=function(){return function(e){var t;return t=e[0],t=new Bloodhound({datumTokenizer:function(t){return Bloodhound.tokenizers.whitespace(t[e[1]])},queryTokenizer:Bloodhound.tokenizers.whitespace,prefetch:e[3]})}}(this),i=[],h=this._properties.autocomplete,d=0,p=h.length;p>d;d++){n=h[d],o=[];for(s in n)r=s,u=n[s],o.push(r,u);t=a(o),t.initialize(),c=o[0],l=Handlebars.getTemplate("search_"+c,!0),e={name:o[0],displayKey:o[1],source:t.ttAdapter(),templates:{suggestion:l}},i.push(e)}$(this._properties.target).typeahead({highlight:!0,hint:!1},i)}return this},e.prototype.updateUrl=function(){var e,t;return e=core.flattenObject(this._properties.query),t=e.length>1?"?search="+e.join("&")+"#"+this._properties._id:"?search="+e[0]+"#"+this._properties._id,null!=window.history?history.pushState("","",t):void 0},e.prototype.search=function(){var e,t,i,n,s,r,o,a;if(r=core.flattenObject(this._properties.config[this._properties.type]),n=core.flattenObject(this._properties.query),n.length>1){for(i=[],o=0,a=n.length;a>o;o++)s=n[o],s.indexOf("=")>0?(t=s.split("="),s=t[0]+"="+encodeURIComponent(t[1])):s=encodeURIComponent(s),i.push(s);n=i.join("&")}else n=encodeURIComponent(n[0]);return r=r.join("&")+"&q="+n,e=new XMLHttpRequest,e.onreadystatechange=function(t){return function(){return 4===e.readyState&&200===e.status?t.events.emit("result",JSON.parse(e.response)):void 0}}(this),e.open("GET",r,!0),e.send(),this.events.emit("searching")},e.prototype.validate=function(e){return JSON.stringify(e)!==JSON.stringify(this._properties.response.data)&&(e=e),this._properties.response.data=e,this.events.emit("results-prep",e)},e.prototype.prepResults=function(e){return this.events.emit("results-ready",e)},e.prototype.showPage=function(e){var t,i;return i=this._properties.params.template||"google_results",t=Handlebars.getTemplate(i),this._properties.response.target.innerHTML=t(e),this.events.emit("results-rendered",e)},e.prototype.extend=function(){return this},e}(),t=function(e){function t(e,n){var s;this.data=e,this.bindPagination=i(this.bindPagination,this),this.extend=i(this.extend,this),s={_id:"google",google:{baseUrl:"/?ACT=191"}},t.__super__.constructor.call(this,this.data,n,s)}return s(t,e),t.prototype.getName=function(){return"GoogleSearch"},t.prototype.extend=function(){return this.events.on("results-rendered",function(e){return function(t){return e.bindPagination(t),e.events.emit("query-changed")}}(this)),this},t.prototype.bindPagination=function(e){var t,i;return i=function(t){return function(){var i;return i=t._properties.response.target.querySelectorAll("[data-search-previous]")[0],null!=i&&(i.onclick=function(){return t._properties.query.start="start="+e[0].pagination.previousPage[0].startIndex,t.events.emit("search",t._properties.query._search)}),t}}(this),e[0].pagination.previousPage&&i(),t=function(t){return function(){var i;return i=t._properties.response.target.querySelectorAll("[data-search-next]")[0],null!=i&&(i.onclick=function(){return t._properties.query.start="start="+e[0].pagination.nextPage[0].startIndex,t.events.emit("search",t._properties.query._search)}),t}}(this),e[0].pagination.nextPage?t():void 0},t}(e),"undefined"!=typeof core&&null!==core&&core.addPlugin("GoogleSearch",t,"[data-google-search]")}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e,i){var n,s,r,o;this.data=e,this.reportEvent=t(this.reportEvent,this),this.setUpOO=t(this.setUpOO,this),this.setUpVideo=t(this.setUpVideo,this),this.loadScripts=t(this.loadScripts,this),this.loadModal=t(this.loadModal,this),this.data instanceof jQuery&&(this.data=this.data.get(0)),o=this.data.attributes[i].value.split(","),o=o.map(function(e){return e.trim()}),o.length>3&&(r=o.splice(0,2),s=o.join(","),o=r.concat(s)),this._properties={_id:o[0],video:{element:this.data,klass:this.data.className,code:o[1]},params:function(){try{return JSON.parse(o[2])}catch(e){return n=e,{}}}(),scriptKeys:{ooyala:"//player.ooyala.com/v3/ZmJmNTVlNDk1NjcwYTVkMzAzODkyMjg0?tweaks=android-enable-hls"}},this._properties.params.template=this._properties.params.template||"videoPlayer",this._properties.params.type=this._properties.params.type||"ooyala",this._properties.params.playerId=this._properties.params.playerId||"player--ooyala",this._properties.params.autoPlay=this._properties.params.autoPlay||!1,this.loadScripts().loadModal().setUpVideo()}return e.prototype.loadModal=function(){var e,t;return e=core.plugins.Modal,null!=e&&(null!=core.modal?void 0===core.modal[this._properties.params.template]&&(t=this._properties.params.template,core.modal[t]=new e.model(t,"data-modal-open","preload")):(core.modal={},t=this._properties.params.template,core.modal[t]=new e.model(t,"data-modal-open","preload"))),this},e.prototype.loadScripts=function(){var e,t,i;return e=document.createElement("script"),null!=this._properties.scriptKeys[this._properties.params.type]?e.setAttribute("src",this._properties.scriptKeys[this._properties.params.type]):le.log("no script key found for "+this._properties.video.type),t=core.flatten(document.getElementsByTagName("script")),i=t.filter(function(e){return function(t){return null!=t.attributes.src&&null!=t.attributes.src.value?t.attributes.src.value===e._properties.scriptKeys[e._properties.params.type]:void 0}}(this)),i.length>0||document.head.appendChild(e),this},e.prototype.setUpVideo=function(){return"ooyala"===this._properties.params.type&&(this._properties.params.autoPlay?(this.setUpOO(),this._properties.video.element.addEventListener("click",this.setUpOO,!1)):this._properties.video.element.addEventListener("click",this.setUpOO,!1)),this},e.prototype.setUpOO=function(){var e;return"undefined"==typeof OO||null===OO?(e=function(e){return function(){return e.setUpOO()}}(this),setTimeout(e,250)):OO.ready(function(e){return function(){var t,i,n;return core.modal[e._properties.params.template].toggleModal(),e._properties.video.player=OO.Player.create(e._properties.params.playerId,e._properties.video.code,{autoplay:!0,onCreate:function(t){return e._properties.messages=t.mb}}),t=function(){return e.reportEvent("destroyed"),e._properties.video.player.destroy(e._properties.params.playerId)},n=function(i){return 27===i.keyCode||core.isElement(i)?(t(),27===i.keyCode&&core.modal[e._properties.params.template].toggleModal(),document.removeEventListener("keyup",n,!1)):32===i.keyCode?"paused"===e._properties.video.player.state?e._properties.video.player.play():e._properties.video.player.pause():void 0},document.addEventListener("keyup",n,!1),core.modal[e._properties.params.template].events.on("close",n),e._properties.messages.subscribe(OO.EVENTS.PLAYBACK_READY,"Video",function(t){return e.reportEvent(t)}),e._properties.messages.subscribe(OO.EVENTS.PLAYED,"Video",function(i){return t(),core.modal[e._properties.params.template].toggleModal(),e.reportEvent(i)}),e._properties.messages.subscribe(OO.EVENTS.PLAY_FAILED,"Video",function(t){return e.reportEvent(t)}),e._properties.messages.subscribe(OO.EVENTS.BUFFERED,"Video",function(t){return e.reportEvent(t)}),i=!1,e._properties.messages.subscribe(OO.EVENTS.FULLSCREEN_CHANGED,"Video",function(t){return i=!i,i?(t="Fullscreen",e.reportEvent(t)):void 0})}}(this)),this},e.prototype.reportEvent=function(e){return"undefined"!=typeof ga&&null!==ga&&ga("send","event","video",e,{page:window.location.pathname}),this},e}(),"undefined"!=typeof core&&null!==core&&core.addPlugin("Player",e,"[data-video]")}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e,i){var n;this.data=e,this.bindResize=t(this.bindResize,this),this.expandElement=t(this.expandElement,this),this.data instanceof jQuery&&(this.data=this.data.get(0)),n=this.data.attributes[i].value.split(","),n=n.map(function(e){return e.trim()}),this._properties={target:this.data,height:n[1],width:n[2],id:n[0]},this.bindResize(this._properties.target)}return e.prototype.expandElement=function(){var e,t,i;return t=window.innerHeight,i=window.innerWidth,e=void 0!==this._properties.height?t-this._properties.height:t,"false"!==this._properties.width&&(this._properties.target.style.width=i+"px"),"false"!==this._properties.height&&(this._properties.target.style.height=e+"px","IFRAME"===this._properties.target.tagName&&(this._properties.target.height=e)),this},e.prototype.bindResize=function(){var e;return e=null,null==e&&(e=new Debouncer(this.expandElement)),window.addEventListener("resize",e,!1),this.expandElement()},e}(),"undefined"!=typeof core&&null!==core&&core.addPlugin("FullScreen",e,"[data-fullscreen]")}.call(this),function(){var e,t,i,n=function(e,t){return function(){return e.apply(t,arguments)}};t=function(){function e(e){this.data=e,this.getMarkers=n(this.getMarkers,this),this.initialize=n(this.initialize,this),this._properties={scripts:{googleapis:"https://maps.googleapis.com/maps/api/js?v=3.exp&callback=googleapis.initialize"},img:"//s3.amazonaws.com/ns.images/newspring/locations/newspring.mapmarker.png",maps:[],styles:{multi:[{featureType:"road",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#fffffa"}]},{featureType:"water",stylers:[{lightness:50}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry",stylers:[{lightness:40}]}],network:[{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#f7f1df"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#f7f1df"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#f7f1df"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffe15f"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"black"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]}]}},this.loadScript()}return e.prototype.initialize=function(){return this.getMarkers()},e.prototype.getMarkers=function(){var e,t,i,n,s,r;for(s=core.flattenObject(core.geolocation),r=[],i=0,n=s.length;n>i;i++)e=s[i],t=e.createMap(),r.push(this._properties.maps.push(t));return r},e.prototype.loadScript=function(){var e,t,i;return e=document.createElement("script"),e.src=this._properties.scripts.googleapis,t=core.flatten(document.getElementsByTagName("script")),i=t.filter(function(e){return function(t){return null!=t.attributes.src&&null!=t.attributes.src.value?t.attributes.src.value===e._properties.scripts.googleapis:void 0}}(this)),i.length>0||document.head.appendChild(e),this},e}(),e=function(){function e(e,t){var i,s,r,o,a,l;this.data=e,this.calculateDistance=n(this.calculateDistance,this),this.getUserLocation=n(this.getUserLocation,this),this.findClosest=n(this.findClosest,this),this.bindZoom=n(this.bindZoom,this),this.bindResize=n(this.bindResize,this),this.fitBounds=n(this.fitBounds,this),this.fitCenter=n(this.fitCenter,this),this.setCenter=n(this.setCenter,this),this.locationClicked=n(this.locationClicked,this),this.createMarker=n(this.createMarker,this),this.createNewMarker=n(this.createNewMarker,this),this.createMap=n(this.createMap,this),this.bindEvents=n(this.bindEvents,this),this.data instanceof jQuery&&(this.data=this.data.get(0)),l=this.data.attributes[t].value.split(/[,](?=[^\]]*?(?:\[))/g),l.length>2&&(a=l.splice(0,2),r=l.join(","),l=a.concat(r)),l=l.map(function(e){return e.trim()}),i=l[1].replace(/[\[\]']+/g,"").split(","),i=i.map(function(e){return e.trim()}),"string"==typeof i&&(i=[i]),o=function(){try{return JSON.parse(l[2])}catch(e){return s=e,console.log(s)}}(),"all"!==i[0]&&(o=o.filter(function(){return function(e){var t,n,s;for(n=0,s=i.length;s>n;n++)if(t=i[n],e._id.toLowerCase().replace(" ","").indexOf(t.toLowerCase().replace(" ",""))>-1)return!0}}(this))),this._properties={_id:l[0],target:this.data,location:i,locations:o,map:{},markers:[],mapOptions:{},multi:!1,attr:t},("all"===this._properties.location[0]||this._properties.location.length>1)&&(this._properties.multi=!0),"undefined"!=typeof EventEmitter&&null!==EventEmitter&&(this.events=new EventEmitter),this.bindEvents()}return e.prototype.getName=function(){return"Geolocation"},e.prototype.bindEvents=function(){return this.events.on("campus-found",function(e){return function(t){var i,n,s,r;for(r=e._properties.findLocation,n=0,s=r.length;s>n;n++)i=r[n],core.removeClass(i,"btn--icon btn--filled"),i.innerHTML=i.dataset.originalText;return window.location.href=t.url}}(this)),this.events.on("finding-closest",function(e){return function(){var t,i,n,s,r;for(s=e._properties.findLocation,r=[],i=0,n=s.length;n>i;i++)t=s[i],t.dataset.originalText=t.innerText,t.innerHTML='Loading...<span class="icon icon--loading"></span>',r.push(core.addClass(t,"btn--icon btn--filled"));return r}}(this))},e.prototype.createMap=function(){var e,t,i,n,s,r,o;if(n=this._properties.multi?8:15,e=e=this._properties.multi?null:new google.maps.LatLng(this._properties.locations[0].lat,this._properties.locations[0].lng),this._properties.multi&&(i=googleapis._properties.styles.multi),"network"===window.location.host.split(".")[0]&&(n=6,i=googleapis._properties.styles.network),this._properties.mapOptions={zoom:n,scrollwheel:!1,draggable:!core.isMobile(),center:e,disableDefaultUI:!0,styles:i},this._properties.map=new google.maps.Map(this._properties.target,this._properties.mapOptions),this._properties.multi){for(o=this._properties.locations,s=0,r=o.length;r>s;s++)t=o[s],this.createMarker(t);this.fitBounds().bindResize(this.fitBounds)}else this.createMarker(this._properties.locations[0]),this.setCenter().fitCenter().bindResize(this.fitCenter),google.maps.event.addDomListener(this._properties.map,"idle",function(e){return function(){return e.setCenter()}}(this));return this.bindZoom(),this._properties.multi&&this.findClosest(),this._properties.service=new google.maps.DistanceMatrixService,this._properties.geocoder=new google.maps.Geocoder,this._properties.map},e.prototype.createNewMarker=function(e){return"string"==typeof e?this._properties.geocoder.geocode({address:e},function(e){return function(t,i){var n;return"OK"===i?(n={lat:t[0].geometry.location.lat(),lng:t[0].geometry.location.lng()},e.createMarker(n)):void 0}}(this)):this.createMarker(e),this},e.prototype.createMarker=function(e){var t,i,n,s,r,o;return"undefined"!=typeof google&&null!==google&&(t=new google.maps.LatLng(e.lat,e.lng),n=null!=e.img?e.img:googleapis._properties.img,o=e.url,i=Handlebars.getTemplate("locations_popup"),s=new google.maps.InfoWindow({content:i(e)}),r=new google.maps.Marker({_id:e._id,position:t,map:this._properties.map,title:e.campus,url:o,icon:n,zIndex:e.count,infoWindow:s}),google.maps.event.addListener(r,"click",this.locationClicked(r)),this._properties.markers.push(r)),this},e.prototype.locationClicked=function(e){return function(){return function(){return window.location.href=e.url}}(this)},e.prototype.setCenter=function(){return this._properties.center=this._properties.map.getCenter(),this},e.prototype.fitCenter=function(){return this._properties.map.setCenter(this._properties.center),this},e.prototype.fitBounds=function(){var e,t,i,n,s;for(e=new google.maps.LatLngBounds,s=this._properties.markers,i=0,n=s.length;n>i;i++)t=s[i],e.extend(t.getPosition());return this._properties.map.fitBounds(e),this},e.prototype.bindResize=function(e){var t;return t=core.debounce(e),window.addEventListener("resize",t,!1),this},e.prototype.bindZoom=function(){var e,t,i;return t=document.querySelectorAll("["+this._properties.attr+'-zoom-in="'+this._properties._id+'"]')[0],i=document.querySelectorAll("["+this._properties.attr+'-zoom-out="'+this._properties._id+'"]')[0],e=this._properties.map.getZoom(),google.maps.event.addDomListener(t,"click",function(t){return function(){return e++,t._properties.map.setZoom(e)}}(this)),google.maps.event.addDomListener(i,"click",function(t){return function(){return e--,t._properties.map.setZoom(e)}}(this)),this},e.prototype.findClosest=function(){var e,t,i,n;if(e=document.querySelectorAll("["+this._properties.attr+'-closest="'+this._properties._id+'"]'),this._properties.findLocation=e,google)for(i=0,n=e.length;n>i;i++)t=e[i],"INPUT"===t.tagName?(google.maps.event.addDomListener(t,"blur",function(e){return function(){return e.events.emit("finding-closest"),e.getUserLocation([t.value])}}(this)),google.maps.event.addDomListener(t,"keyup",function(e){return function(i){return 13===i.keyCode?(e.events.emit("finding-closest"),e.getUserLocation([t.value])):void 0}}(this))):google.maps.event.addDomListener(t,"click",function(e){return function(){return e.events.emit("finding-closest"),e.getUserLocation()}}(this));return this},e.prototype.getUserLocation=function(e){var t,i,n,s,r;return n=!1,s=function(e){return function(t){return n=!0,e._properties.userLocation={lat:t.coords.latitude,lng:t.coords.longitude,location:[new google.maps.LatLng(t.coords.latitude,t.coords.longitude)]},e.calculateDistance(e._properties.userLocation.location)}}(this),i=function(e){return function(){var t,i,s,r,o;for(n=!0,r=e._properties.findLocation,o=[],i=0,s=r.length;s>i;i++)t=r[i],core.removeClass(t,"btn--icon btn--filled"),o.push(t.innerHTML="Location services unavailable");return o}}(this),e?(this._properties.userLocation={},this.calculateDistance(e)):(t=function(){return i(),!1},r=setTimeout(t,15e3),navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){return clearTimeout(r),s(e)},function(){return clearTimeout(r),i()
}):void 0)},e.prototype.calculateDistance=function(e){var t;return t=function(e){return function(t,i){var n,s,r,o,a,l;if("OK"===i){for(s=t.rows[0].elements.slice(),s.sort(function(e,t){return e.duration.value<t.duration.value?-1:e.duration.value>t.duration.value?1:0}),a=t.rows[0].elements,l=[],r=0,o=a.length;o>r;r++)n=a[r],n.duration.value===s[0].duration.value?(e._properties.userLocation.closestCampus=e._properties.locations[r],l.push(e.events.emit("campus-found",e._properties.locations[r]))):l.push(void 0);return l}}}(this),this._properties.service.getDistanceMatrix({origins:e,destinations:this._properties.locations,travelMode:google.maps.TravelMode.DRIVING,unitSystem:google.maps.UnitSystem.IMPERIAL,durationInTraffic:!0,avoidHighways:!1,avoidTolls:!1},t)},e}(),"undefined"!=typeof core&&null!==core&&(i=function(){return window.googleapis=new t},core.addPlugin("Geolocation",e,"[data-geolocation]",i))}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e,i){var n,s,r;this.data=e,this.expandBellow=t(this.expandBellow,this),this.bindClicks=t(this.bindClicks,this),r=this.data.attributes[i].value.split(","),r=r.map(function(e){return e.trim()}),r.length>3&&(s=r.splice(0,2),n=r.join(","),r=s.concat(n)),this._properties={_id:r[0],target:this.data,type:r[1]},"undefined"!=typeof EventEmitter&&null!==EventEmitter&&(this.events=new EventEmitter),this.bindClicks()}return e.prototype.bindClicks=function(){var e,t,i,n,s,r;for(i=this._properties.target.querySelectorAll("[data-accordion-trigger]"),this._properties.triggers=i,r=[],n=0,s=i.length;s>n;n++)t=i[n],e=function(e){return function(t){return t.preventDefault(),e.expandBellow(t.target.parentNode,t)}}(this),r.push(t.addEventListener("click",e,!1));return r},e.prototype.expandBellow=function(e,t){var i,n,s,r,o,a,l;if(i="expanded","multi"===this._properties.type)core.toggleClass(e,i);else for(l=this._properties.triggers,o=0,a=l.length;a>o;o++)r=l[o],e===r.parentNode?core.toggleClass(e,i):(n=r.parentNode.className,s=n.indexOf(i),n=n.replace(i,""),r.parentNode.className=n.trim());return this.events.emit("toggled",t),this},e}(),"undefined"!=typeof core&&null!==core&&core.addPlugin("Accordion",e,"[data-accordion]")}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e,i){var n,s,r,o,a,l;this.data=e,this.setPositionOffset=t(this.setPositionOffset,this),this.matchParentSize=t(this.matchParentSize,this),this.testIfResized=t(this.testIfResized,this),this.bindResize=t(this.bindResize,this),this.shouldPlay=t(this.shouldPlay,this),this.startPlaying=t(this.startPlaying,this),this.setUpVideo=t(this.setUpVideo,this),this.setUpImg=t(this.setUpImg,this),this.setCSS=t(this.setCSS,this),this.buildElement=t(this.buildElement,this),this.determineDesiredPositioning=t(this.determineDesiredPositioning,this),this.determineAssetToLoad=t(this.determineAssetToLoad,this),this.getParentWidth=t(this.getParentWidth,this),this.getParentHeight=t(this.getParentHeight,this),this.data instanceof jQuery&&(this.data=this.data.get(0)),o=this.data.attributes[i].value.split(/[,](?=[^\]]*?(?:\[))/g),o=o.map(function(e){return e.trim()}),o.length>3&&(r=o.splice(0,2),s=o.join(","),o=r.concat(s)),l=o[1].replace(/[\[\]']+/g,"").split(","),l=l.map(function(e){return e.trim()}),this._properties={_id:o[0],parent:this.data.parentElement,bg:{element:this.data,klass:this.data.className},videos:l},a=function(e){return function(){var t;return core.isElementInView(e.data)?(t=function(){return core.isElementInView(e.data)?(window.removeEventListener("scroll",a,!1),e.determineAssetToLoad(),!1):(window.removeEventListener("scroll",a,!1),window.addEventListener("scroll",a,!1))},setTimeout(t,500),window.removeEventListener("scroll",a,!1)):void 0}}(this),core.isElementInView(this.data)?this.determineAssetToLoad():(n=core.debounce(a),window.addEventListener("scroll",a,!1))}return e.prototype.getParentHeight=function(){return this._properties.parent.clientHeight},e.prototype.getParentWidth=function(){return this._properties.parent.clientWidth},e.prototype.determineAssetToLoad=function(){return core.isMobile()||this.determineDesiredPositioning("video").setUpVideo(),this},e.prototype.determineDesiredPositioning=function(e){var t;return t=this._properties.bg.element.getAttribute("data-"+e+"-position"),null!=t?(t=t.split(","),1===t.length?(this._properties.bg.xaxis=t[0].replace(/(^\s+|\s+$)/g,""),this._properties.bg.yaxis=t[0].replace(/(^\s+|\s+$)/g,"")):(this._properties.bg.xaxis=t[0].replace(/(^\s+|\s+$)/g,""),this._properties.bg.yaxis=t[1].replace(/(^\s+|\s+$)/g,""))):(this._properties.bg.xaxis="center",this._properties.bg.yaxis="center"),this},e.prototype.buildElement=function(e){var t,i,n,s,r,o;if((this._properties.parent.style.position="")&&(this._properties.parent.style.position="relative"),t=document.createElement(e),"video"!==e)t.src=this._properties.bg.element.getAttribute("data-background-"+e);else for(o=this._properties.videos,s=0,r=o.length;r>s;s++)n=o[s],i=document.createElement("source"),i.src=n.trim(),i.type="video/"+n.substr(n.lastIndexOf(".")+1),t.appendChild(i);return this._properties.bg.element.klass=this._properties.bg.element.className,t.className=this._properties.bg.element.klass,this._properties.parent.insertBefore(t,this._properties.bg.element),this._properties.bg.root=this._properties.bg.element,this._properties.bg.element=t,t},e.prototype.setCSS=function(){return this._properties.parent.style.overflow="hidden",this._properties.bg.element.style.display="block",this._properties.bg.element.style.position="absolute",this._properties.bg.element.style.objectFit="cover",this._properties.bg.element.style.height="auto",this._properties.bg.element.style.minWidth="100%",this._properties.bg.element.style.minHeight="100%",this._properties.bg.element.style.zIndex="-5px",this._properties.bg.element.style.top="0",this._properties.bg.element.style.bottom="0",this._properties.bg.element.style.left="0",this._properties.bg.element.style.right="0",core.isMobile()&&(this._properties.bg.element.style.width="auto"),this},e.prototype.setUpImg=function(){var e,t,i;return t=this._properties.bg.element.getAttribute("data-background-img"),null!=t&&(e=this.buildElement("img"),i=function(t){return function(){return t.setCSS().matchParentSize().bindResize(),e.removeEventListener("load",i,!1),t._properties.parent.removeChild(t._properties.bg.root),t}}(this),e.addEventListener("load",i,!1)),this},e.prototype.setUpVideo=function(){var e,t;return t=this.buildElement("video"),t.style.display="none",e=function(i){return function(){return i.setCSS().matchParentSize().bindResize().startPlaying(),t.removeEventListener("canplay",e,!1),i._properties.parent.removeChild(i._properties.bg.root),i}}(this),t.addEventListener("canplay",e,!1)},e.prototype.startPlaying=function(){var e;return this._properties.bg.element.loop=!0,this._properties.bg.element.volume=0,this._properties.bg.element.paused&&this._properties.bg.element.play(),e=core.debounce(this.shouldPlay),window.addEventListener("scroll",e,!1),this},e.prototype.shouldPlay=function(){return core.isElementInView(this._properties.bg.element)?this._properties.bg.element.paused&&this._properties.bg.element.play():this._properties.bg.element.paused||this._properties.bg.element.pause(),this},e.prototype.bindResize=function(){var e;return e=core.debounce(this.testIfResized),window.addEventListener("resize",e,!1),this},e.prototype.testIfResized=function(){return null!=this._properties.wid&&(this._properties.wid=window.innerWidth)?this.setPositionOffset():this.matchParentSize(),this},e.prototype.matchParentSize=function(){var e,t,i,n,s,r;return n=this.getParentHeight(),s=this.getParentWidth(),null!=this._properties.bg.element.videoHeight?(t=this._properties.bg.element.videoHeight,i=this._properties.bg.element.videoWidth):(t=this._properties.bg.element.naturalHeight,i=this._properties.bg.element.naturalWidth),e=i/t,r=s/n>=e,r?(this._properties.bg.element.width=s,this._properties.bg.element.height=s*t/i):(this._properties.bg.element.height=n,this._properties.bg.element.width=n*i/t),core.isMobile()&&(this._properties.wid=window.innerWidth),this.setPositionOffset(),this},e.prototype.setPositionOffset=function(){var e,t;switch(e=this.getParentHeight(),t=this.getParentWidth(),this._properties.bg.xaxis){case"left":this._properties.bg.element.style.marginLeft=0;break;case"right":this._properties.bg.element.style.marginLeft=""+-(this._properties.bg.element.width-t)+"px";break;default:this._properties.bg.element.style.marginLeft=""+-(Math.abs(this._properties.bg.element.width-t)/2)+"px"}switch(this._properties.bg.yaxis){case"top":this._properties.bg.element.style.marginTop=0;break;case"bottom":this._properties.bg.element.style.marginTop=""+-(this._properties.bg.element.height-e)+"px";break;default:this._properties.bg.element.style.marginTop=""+-((this._properties.bg.element.height-e)/2)+"px"}return this},e}(),"undefined"!=typeof core&&null!==core&&core.addPlugin("BackgroundPlayer",e,"[data-background-video]")}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e,i){var n;this.data=e,this.bindEvents=t(this.bindEvents,this),this.hidePanels=t(this.hidePanels,this),this.hidePanel=t(this.hidePanel,this),this.showPanel=t(this.showPanel,this),this.loadPanel=t(this.loadPanel,this),this.ajaxPanel=t(this.ajaxPanel,this),this.bindClick=t(this.bindClick,this),this.findTriggers=t(this.findTriggers,this),this.findPanels=t(this.findPanels,this),n=this.data.attributes[i].value.split(","),n=n.map(function(e){return e.trim()}),this._properties={attr:i,_id:n[0],target:this.data,panels:{},triggers:{}},this.findPanels(),this.findTriggers(),"undefined"!=typeof EventEmitter&&null!==EventEmitter&&(this.events=new EventEmitter),this.bindEvents()}return e.prototype.findPanels=function(){var e,t,i,n,s,r;for(i=document.querySelectorAll("[data-panel]"),r=[],n=0,s=i.length;s>n;n++)t=i[n],t.dataset.panel.split(",")[0]===this._properties._id?(e=t.dataset.panel.split(",")[1].trim(),r.push(this._properties.panels[e]=t)):r.push(void 0);return r},e.prototype.findTriggers=function(){var e,t,i,n,s,r,o,a,l,c;for(r=document.querySelectorAll("[data-panel-show]"),c=[],o=0,l=r.length;l>o;o++)n=r[o],a=n.dataset.panelShow.split(",")[0].trim(),s=n.dataset.panelShow.split(",")[2].trim(),a===this._properties._id?(i=n.dataset.panelShow.split(","),i[3]&&(t=function(){try{return JSON.parse(i[3])}catch(t){return e=t,!1}}()),void 0===this._properties.triggers[s]||t?(this._properties.triggers[s]=n,c.push(this.bindClick(n))):c.push(void 0)):c.push(void 0);return c},e.prototype.bindClick=function(e){return e.onclick=function(t){return function(i){var n,s,r;return i.preventDefault(),s=e.dataset.panelShow.split(","),r=s[1].trim(),null!=s[3]&&(n=function(){try{return JSON.parse(s[3])}catch(e){return i=e,!1}}()),t.loadPanel(r,n)}}(this)},e.prototype.ajaxPanel=function(e){var t;return console.log(e),t=new XMLHttpRequest,t.onreadystatechange=function(e){return function(){var i;if(4===t.readyState&&200===t.status)return i=t.response.body.querySelectorAll("[data-panel]")[0],i.style.display="none",e._properties.target.appendChild(i),e.events.emit("loaded",i)}}(this),t.open("GET",e,!0),t.responseType="document",t.send()},e.prototype.loadPanel=function(e,t){var i,n,s,r,o,a;if(t===!0)return this._properties.force=!0,this.ajaxPanel(e,t),null!=core.panel[this._properties._id]._properties.panels[e]&&this._properties.panels[e].parentNode.removeChild(this._properties.panels[e]),!1;if(e=e.trim(),void 0!==core.panel[this._properties._id]._properties.panels[e])return this.hidePanels(),this.showPanel(core.panel[this._properties._id]._properties.panels[e]);for(r=document.querySelectorAll("[data-panel]"),o=0,a=r.length;a>o;o++)if(s=r[o],s.dataset.panel.split(",")[1]===e)this.hidePanels(),this.showPanel(s);else{if(i=Handlebars.getTemplate(e),"function"!=typeof i)return this.ajaxPanel(e),!1;n=i(),this.events.emit("loaded",n)}},e.prototype.showPanel=function(e){return e.style.display="block"},e.prototype.hidePanel=function(e){return e.style.display="none",this},e.prototype.hidePanels=function(){var e,t,i,n;for(n=core.flattenObject(core.panel[this._properties._id]._properties.panels),t=0,i=n.length;i>t;t++)e=n[t],this.hidePanel(e);return this},e.prototype.bindEvents=function(){return this.events.on("loaded",function(e){return function(t){var i,n,s,r;if(e._properties.force)for(r=e._properties.panels,n=0,s=r.length;s>n;n++)i=r[n],i.parentNode.removeChild(i);return core.updateModels(t,e._properties.force),e.findTriggers(e._properties.force),e.findPanels(),e.hidePanels(),e.showPanel(t)}}(this)),this},e}(),"undefined"!=typeof core&&null!==core&&core.addPlugin("Panel",e,"[data-panel-group]")}.call(this),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";var t=window.Slick||{};t=function(){function t(t,n){var s,r,o=this;if(o.defaults={accessibility:!0,appendArrows:e(t),arrows:!0,asNavFor:null,prevArrow:'<button type="button" class="slick-prev">Previous</button>',nextArrow:'<button type="button" class="slick-next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return'<div class="icon">'+(t+1)+"</div>"},dots:!1,dotsClass:"slider-dots",draggable:!0,easing:"linear",fade:!1,focusOnSelect:!1,infinite:!0,lazyLoad:"ondemand",onBeforeChange:null,onAfterChange:null,onInit:null,onReInit:null,pauseOnHover:!0,pauseOnDotsHover:!1,responsive:null,slide:"div",slidesToShow:1,slidesToScroll:1,showTitles:!0,speed:300,swipe:!0,touchMove:!0,touchThreshold:5,useCSS:!0,vertical:!1},o.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentSlide:0,currentLeft:null,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1},e.extend(o,o.initials),o.activeBreakpoint=null,o.animType=null,o.animProp=null,o.breakpoints=[],o.breakpointSettings=[],o.cssTransitions=!1,o.paused=!1,o.positionProp=null,o.$slider=e(t),o.$slidesCache=null,o.transformType=null,o.transitionType=null,o.windowWidth=0,o.windowTimer=null,o.options=e.extend({},o.defaults,n),o.originalSettings=o.options,s=o.options.responsive||null,s&&s.length>-1){for(r in s)s.hasOwnProperty(r)&&(o.breakpoints.push(s[r].breakpoint),o.breakpointSettings[s[r].breakpoint]=s[r].settings);o.breakpoints.sort(function(e,t){return t-e})}o.autoPlay=e.proxy(o.autoPlay,o),o.autoPlayClear=e.proxy(o.autoPlayClear,o),o.changeSlide=e.proxy(o.changeSlide,o),o.selectHandler=e.proxy(o.selectHandler,o),o.setPosition=e.proxy(o.setPosition,o),o.swipeHandler=e.proxy(o.swipeHandler,o),o.dragHandler=e.proxy(o.dragHandler,o),o.keyHandler=e.proxy(o.keyHandler,o),o.autoPlayIterator=e.proxy(o.autoPlayIterator,o),o.instanceUid=i++,o.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,o.init()}var i=0;return t}(),t.prototype.addSlide=function(t,i,n){var s=this;if("boolean"==typeof i)n=i,i=null;else if(0>i||i>=s.slideCount)return!1;s.unload(),"number"==typeof i?0===i&&0===s.$slides.length?e(t).appendTo(s.$slideTrack):n?e(t).insertBefore(s.$slides.eq(i)):e(t).insertAfter(s.$slides.eq(i)):n===!0?e(t).prependTo(s.$slideTrack):e(t).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).remove(),s.$slideTrack.append(s.$slides),s.$slides.each(function(t,i){e(i).attr("index",t)}),s.$slidesCache=s.$slides,s.reinit()},t.prototype.animateSlide=function(t,i){var n={},s=this;s.transformsEnabled===!1?s.options.vertical===!1?s.$slideTrack.animate({left:t},s.options.speed,s.options.easing,i):s.$slideTrack.animate({top:t},s.options.speed,s.options.easing,i):s.cssTransitions===!1?e({animStart:s.currentLeft}).animate({animStart:t},{duration:s.options.speed,easing:s.options.easing,step:function(e){s.options.vertical===!1?(n[s.animType]="translate("+e+"px, 0px)",s.$slideTrack.css(n)):(n[s.animType]="translate(0px,"+e+"px)",s.$slideTrack.css(n))},complete:function(){i&&i.call()}}):(s.applyTransition(),n[s.animType]=s.options.vertical===!1?"translate3d("+t+"px, 0px, 0px)":"translate3d(0px,"+t+"px, 0px)",s.$slideTrack.css(n),i&&setTimeout(function(){s.disableTransition(),i.call()},s.options.speed))},t.prototype.applyTransition=function(e){var t=this,i={};i[t.transitionType]=t.options.fade===!1?t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:"opacity "+t.options.speed+"ms "+t.options.cssEase,t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.autoPlay=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer),e.slideCount>e.options.slidesToShow&&e.paused!==!0&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var e=this;e.options.infinite===!1?1===e.direction?(e.currentSlide+1===e.slideCount-1&&(e.direction=0),e.slideHandler(e.currentSlide+e.options.slidesToScroll)):(e.currentSlide-1===0&&(e.direction=1),e.slideHandler(e.currentSlide-e.options.slidesToScroll)):e.slideHandler(e.currentSlide+e.options.slidesToScroll)},t.prototype.buildNav=function(){var t=this;t.options.showTitles===!0&&(t.$navContainer=e('<div class="slider__nav-container" ></div>').appendTo(t.$slider))},t.prototype.buildArrows=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.options.showTitles===!0?t.$arrowContainer=e('<div class="slider__nav--arrows tiles tiles--light tiles--horizontal"></div>').appendTo(t.$navContainer):(console.log(t.options.showTitles),t.$arrowContainer=e('<div class="slider__nav--arrows tiles  "></div>').appendTo(t.$slider)),t.$prevArrow=e('<div class="tile__item icon icon--small icon--arrow-left slider__nav--prev"></div>').appendTo(t.$arrowContainer),t.$nextArrow=e('<div class="tile__item icon icon--small icon--arrow-right slider__nav--next"></div>').appendTo(t.$arrowContainer),t.options.infinite!==!0&&t.$prevArrow.addClass("slick-disabled"))},t.prototype.buildDots=function(){var t,i,n=this;if(n.options.dots===!0&&n.slideCount>n.options.slidesToShow){for(i='<ul class="slider__nav">',t=0;t<=n.getDotCount();t+=1)i+="<li>"+n.options.customPaging.call(this,n,t)+"</li>";i+="</ul>",n.$dots=e(i).appendTo(n.options.showTitles===!1?n.$navContainer:n.$slider),n.$dots.find("li").first().addClass("slider--active")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slider--cloned)").addClass("slider__item"),t.slideCount=t.$slides.length,t.$slidesCache=t.$slides,t.$slider.addClass("slider"),t.$slideTrack=0===t.slideCount?e('<div class="slider__track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slider__track"/>').parent(),t.$list=t.$slideTrack.wrap('<div class="slider__list"/>').parent(),t.$slideTrack.css("opacity",0),t.options.centerMode===!0&&(t.options.infinite=!0,t.options.slidesToScroll=1,t.options.slidesToShow%2===0&&(t.options.slidesToShow=3)),e("img[data-lazy]",t.$slider).not("[src]").addClass("slider--loading"),t.setupInfinite(),t.buildNav(),t.buildDots(),t.buildArrows(),t.options.accessibility===!0&&t.$list.prop("tabIndex",0),t.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),t.options.draggable===!0&&t.$list.addClass("draggable")},t.prototype.checkResponsive=function(){var t,i,n=this;if(n.originalSettings.responsive&&n.originalSettings.responsive.length>-1&&null!==n.originalSettings.responsive){i=null;for(t in n.breakpoints)n.breakpoints.hasOwnProperty(t)&&e(window).width()<n.breakpoints[t]&&(i=n.breakpoints[t]);null!==i?null!==n.activeBreakpoint?i!==n.activeBreakpoint&&(n.activeBreakpoint=i,n.options=e.extend({},n.defaults,n.breakpointSettings[i]),n.refresh()):(n.activeBreakpoint=i,n.options=e.extend({},n.defaults,n.breakpointSettings[i]),n.refresh()):null!==n.activeBreakpoint&&(n.activeBreakpoint=null,n.options=e.extend({},n.defaults,n.originalSettings),n.refresh())}},t.prototype.changeSlide=function(t){var i=this,n=e(t.target),s=null!=i.options.asNavFor?e(i.options.asNavFor).getSlick():null;switch(n.is("a")&&t.preventDefault(),t.data.message){case"previous":i.slideCount>i.options.slidesToShow&&(i.slideHandler(i.currentSlide-i.options.slidesToScroll),null!=s&&s.slideHandler(s.currentSlide-s.options.slidesToScroll));break;case"next":i.slideCount>i.options.slidesToShow&&(i.slideHandler(i.currentSlide+i.options.slidesToScroll),null!=s&&s.slideHandler(s.currentSlide+s.options.slidesToScroll));break;case"index":var r=e(t.target).parent().index()*i.options.slidesToScroll;i.slideHandler(r),null!=s&&s.slideHandler(r);break;default:return!1}},t.prototype.destroy=function(){var t=this;t.autoPlayClear(),t.touchObject={},e(".slider--cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&(t.$prevArrow.remove(),t.$nextArrow.remove()),t.$slides.unwrap().unwrap(),t.$slides.removeClass("slider__item slider__item--active slider__item--visible").removeAttr("style"),t.$slider.removeClass("slider"),t.$slider.removeClass("slider--initialized"),t.$list.off(".slick"),e(window).off(".slick-"+t.instanceUid)},t.prototype.disableTransition=function(e){var t=this,i={};i[t.transitionType]="",t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.fadeSlide=function(e,t){var i=this;i.cssTransitions===!1?(i.$slides.eq(e).css({zIndex:1e3}),i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:1e3}),t&&setTimeout(function(){i.disableTransition(e),t.call()},i.options.speed))},t.prototype.filterSlides=function(e){var t=this;null!==e&&(t.unload(),t.$slideTrack.children(this.options.slide).remove(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},t.prototype.getCurrent=function(){var e=this;return e.currentSlide},t.prototype.getDotCount=function(){var e,t=this,i=0,n=0,s=0;for(e=t.options.infinite===!0?t.slideCount+t.options.slidesToShow-t.options.slidesToScroll:t.slideCount;e>i;)s++,n+=t.options.slidesToScroll,i=n+t.options.slidesToShow;return s},t.prototype.getLeft=function(e){var t,i,n=this,s=0;return n.slideOffset=0,i=n.$slides.first().outerHeight(),n.options.infinite===!0?(n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.slideWidth*n.options.slidesToShow*-1,s=i*n.options.slidesToShow*-1),n.slideCount%n.options.slidesToScroll!==0&&e+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.slideCount%n.options.slidesToShow*n.slideWidth*-1,s=n.slideCount%n.options.slidesToShow*i*-1)):n.slideCount%n.options.slidesToShow!==0&&e+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.options.slidesToShow*n.slideWidth-n.slideCount%n.options.slidesToShow*n.slideWidth,s=n.slideCount%n.options.slidesToShow*i),n.options.centerMode===!0&&n.options.infinite===!0?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:n.options.centerMode===!0&&(n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),t=n.options.vertical===!1?e*n.slideWidth*-1+n.slideOffset:e*i*-1+s},t.prototype.init=function(){var t=this;e(t.$slider).hasClass("slider--initialized")||(e(t.$slider).addClass("slider--initialized"),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.checkResponsive()),null!==t.options.onInit&&t.options.onInit.call(this,t)},t.prototype.initArrowEvents=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.on("click.slick",{message:"next"},e.changeSlide))},t.prototype.initDotEvents=function(){var t=this;t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&e("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide)},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.options.pauseOnHover===!0&&t.options.autoplay===!0&&(t.$list.on("mouseenter.slick",t.autoPlayClear),t.$list.on("mouseleave.slick",t.autoPlay)),t.options.accessibility===!0&&t.$list.on("keydown.slick",t.keyHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,function(){t.checkResponsive(),t.setPosition()}),e(window).on("resize.slick.slick-"+t.instanceUid,function(){e(window).width!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.setPosition()},50))}),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.initUI=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.show(),e.options.autoplay===!0&&e.autoPlay()},t.prototype.keyHandler=function(e){var t=this;37===e.keyCode?t.changeSlide({data:{message:"previous"}}):39===e.keyCode&&t.changeSlide({data:{message:"next"}})},t.prototype.lazyLoad=function(){var t,i,n,s,r=this;r.options.centerMode===!0||r.options.fade===!0?(n=r.options.slidesToShow+r.currentSlide-1,s=n+r.options.slidesToShow+2):(n=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,s=n+r.options.slidesToShow),t=r.$slider.find(".slider__item").slice(n,s),e("img[data-lazy]",t).not("[src]").each(function(){e(this).css({opacity:0}).attr("src",e(this).attr("data-lazy")).removeClass("slider--loading").load(function(){e(this).animate({opacity:1},200)})}),r.currentSlide>=r.slideCount-r.options.slidesToShow?(i=r.$slider.find(".slider--cloned").slice(0,r.options.slidesToShow),e("img[data-lazy]",i).not("[src]").each(function(){e(this).css({opacity:0}).attr("src",e(this).attr("data-lazy")).removeClass("slider--loading").load(function(){e(this).animate({opacity:1},200)})})):0===r.currentSlide&&(i=r.$slider.find(".slider--cloned").slice(-1*r.options.slidesToShow),e("img[data-lazy]",i).not("[src]").each(function(){e(this).css({opacity:0}).attr("src",e(this).attr("data-lazy")).removeClass("slider--loading").load(function(){e(this).animate({opacity:1},200)})}))},t.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slider--loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},t.prototype.postSlide=function(e){var t=this;null!==t.options.onAfterChange&&t.options.onAfterChange.call(this,t,e),t.animating=!1,t.setPosition(),t.swipeLeft=null,t.options.autoplay===!0&&t.paused===!1&&t.autoPlay()},t.prototype.progressiveLazyLoad=function(){var t,i,n=this;t=e("img[data-lazy]").not("[src]").length,t>0&&(i=e(e("img[data-lazy]",n.$slider).not("[src]").get(0)),i.attr("src",i.attr("data-lazy")).removeClass("slider--loading").load(function(){n.progressiveLazyLoad()}))},t.prototype.refresh=function(){var t=this,i=t.currentSlide;t.destroy(),e.extend(t,t.initials),t.currentSlide=i,t.init()},t.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slider__item"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.setSlideClasses(0),e.setPosition(),null!==e.options.onReInit&&e.options.onReInit.call(this,e)},t.prototype.removeSlide=function(e,t){var i=this;return"boolean"==typeof e?(t=e,e=t===!0?0:i.slideCount-1):e=t===!0?--e:e,i.slideCount<1||0>e||e>i.slideCount-1?!1:(i.unload(),i.$slideTrack.children(this.options.slide).eq(e).remove(),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).remove(),i.$slideTrack.append(i.$slides),i.$slidesCache=i.$slides,void i.reinit())},t.prototype.setCSS=function(e){var t,i,n=this,s={};t="left"==n.positionProp?e+"px":"0px",i="top"==n.positionProp?e+"px":"0px",s[n.positionProp]=e,n.transformsEnabled===!1?n.$slideTrack.css(s):(s={},n.cssTransitions===!1?(s[n.animType]="translate("+t+", "+i+")",n.$slideTrack.css(s)):(s[n.animType]="translate3d("+t+", "+i+", 0px)",n.$slideTrack.css(s)))},t.prototype.setDimensions=function(){var e=this;e.$slideTrack.children(".slider__item").width(e.options.centerMode===!0?e.slideWidth:e.slideWidth),e.options.vertical===!1?(e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slider__item").length)),e.options.centerMode===!0&&e.$list.css({padding:"0px "+e.options.centerPadding})):(e.$list.height(e.$slides.first().outerHeight()*e.options.slidesToShow),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight()*e.$slideTrack.children(".slider__item").length)),e.options.centerMode===!0&&e.$list.css({padding:e.options.centerPadding+" 0px"}))},t.prototype.setFade=function(){var t,i=this;i.$slides.each(function(n,s){t=i.slideWidth*n*-1,e(s).css({position:"relative",left:t,top:0,zIndex:800,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:900,opacity:1})},t.prototype.setPosition=function(){var e=this;e.setValues(),e.setDimensions(),e.options.fade===!1?e.setCSS(e.getLeft(e.currentSlide)):e.setFade()},t.prototype.setProps=function(){var e=this;e.positionProp=e.options.vertical===!0?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),(void 0!==document.body.style.WebkitTransition||void 0!==document.body.style.MozTransition||void 0!==document.body.style.msTransition)&&e.options.useCSS===!0&&(e.cssTransitions=!0),void 0!==document.body.style.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition"),void 0!==document.body.style.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition"),void 0!==document.body.style.msTransform&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=null!==e.animType},t.prototype.setValues=function(){var e=this;e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),e.slideWidth=Math.ceil(e.options.vertical===!1?e.listWidth/e.options.slidesToShow:e.listWidth)},t.prototype.setSlideClasses=function(e){var t,i,n,s=this;s.$slider.find(".slider__item").removeClass("slider__item--active").removeClass("slider__item--center"),i=s.$slider.find(".slider__item"),s.options.centerMode===!0?(t=Math.floor(s.options.slidesToShow/2),e>=t&&e<=s.slideCount-1-t?s.$slides.slice(e-t,e+t+1).addClass("slider__item--active"):(n=s.options.slidesToShow+e,i.slice(n-t+1,n+t+2).addClass("slider__item--active")),0===e?i.eq(i.length-1-s.options.slidesToShow).addClass("slider__item--center"):e===s.slideCount-1&&i.eq(s.options.slidesToShow).addClass("slider__item--center"),s.$slides.eq(e).addClass("slider__item--center")):e>0&&e<s.slideCount-s.options.slidesToShow?s.$slides.slice(e,e+s.options.slidesToShow).addClass("slider__item--active"):i.length<=s.options.slidesToShow?i.addClass("slider__item--active"):(n=s.options.infinite===!0?s.options.slidesToShow+e:e,i.slice(n,n+s.options.slidesToShow).addClass("slider__item--active")),"ondemand"===s.options.lazyLoad&&s.lazyLoad()},t.prototype.setupInfinite=function(){var t,i,n,s=this;if((s.options.fade===!0||s.options.vertical===!0)&&(s.options.centerMode=!1),s.options.infinite===!0&&s.options.fade===!1&&(i=null,s.slideCount>s.options.slidesToShow)){for(n=s.options.centerMode===!0?s.options.slidesToShow+1:s.options.slidesToShow,t=s.slideCount;t>s.slideCount-n;t-=1)i=t-1,e(s.$slides[i]).clone().attr("id","").prependTo(s.$slideTrack).addClass("slider--cloned");for(t=0;n>t;t+=1)i=t,e(s.$slides[i]).clone().attr("id","").appendTo(s.$slideTrack).addClass("slider--cloned");s.$slideTrack.find(".slider--cloned").find("[id]").each(function(){e(this).attr("id","")})}},t.prototype.slideHandler=function(e){var t,i,n,s,r=null,o=this;return o.animating===!0?!1:(t=e,r=o.getLeft(t),n=o.getLeft(o.currentSlide),s=o.slideCount%o.options.slidesToScroll!==0?o.options.slidesToScroll:0,o.currentLeft=null===o.swipeLeft?n:o.swipeLeft,o.options.infinite===!1&&(0>e||e>o.slideCount-o.options.slidesToShow+s)?(o.options.fade===!1&&(t=o.currentSlide,o.animateSlide(n,function(){o.postSlide(t)
})),!1):(o.options.autoplay===!0&&clearInterval(o.autoPlayTimer),i=0>t?o.slideCount%o.options.slidesToScroll!==0?o.slideCount-o.slideCount%o.options.slidesToScroll:o.slideCount-o.options.slidesToScroll:t>o.slideCount-1?0:t,o.animating=!0,null!==o.options.onBeforeChange&&e!==o.currentSlide&&o.options.onBeforeChange.call(this,o,o.currentSlide,i),o.currentSlide=i,o.setSlideClasses(o.currentSlide),o.updateDots(),o.updateArrows(),o.options.fade===!0?(o.fadeSlide(i,function(){o.postSlide(i)}),!1):void o.animateSlide(r,function(){o.postSlide(i)})))},t.prototype.startLoad=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slider--loading")},t.prototype.swipeDirection=function(){var e,t,i,n,s=this;return e=s.touchObject.startX-s.touchObject.curX,t=s.touchObject.startY-s.touchObject.curY,i=Math.atan2(t,e),n=Math.round(180*i/Math.PI),0>n&&(n=360-Math.abs(n)),45>=n&&n>=0?"left":360>=n&&n>=315?"left":n>=135&&225>=n?"right":"vertical"},t.prototype.swipeEnd=function(t){var i=this;if(i.$list.removeClass("dragging"),void 0===i.touchObject.curX)return!1;if(i.touchObject.swipeLength>=i.touchObject.minSwipe)switch(e(t.target).on("click.slick",function(t){t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e(t.target).off("click.slick")}),i.swipeDirection()){case"left":i.slideHandler(i.currentSlide+i.options.slidesToScroll),i.touchObject={};break;case"right":i.slideHandler(i.currentSlide-i.options.slidesToScroll),i.touchObject={}}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={})},t.prototype.swipeHandler=function(e){var t=this;if(t.options.swipe===!1||"ontouchend"in document&&t.options.swipe===!1)return void 0;if(t.options.draggable===!1||t.options.draggable===!1&&!e.originalEvent.touches)return void 0;switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},t.prototype.swipeMove=function(e){var t,i,n,s,r=this;return s=void 0!==e.originalEvent?e.originalEvent.touches:null,t=r.getLeft(r.currentSlide),!r.$list.hasClass("dragging")||s&&1!==s.length?!1:(r.touchObject.curX=void 0!==s?s[0].pageX:e.clientX,r.touchObject.curY=void 0!==s?s[0].pageY:e.clientY,r.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(r.touchObject.curX-r.touchObject.startX,2))),i=r.swipeDirection(),"vertical"!==i?(void 0!==e.originalEvent&&r.touchObject.swipeLength>4&&e.preventDefault(),n=r.touchObject.curX>r.touchObject.startX?1:-1,r.swipeLeft=r.options.vertical===!1?t+r.touchObject.swipeLength*n:t+r.touchObject.swipeLength*(r.$list.height()/r.listWidth)*n,r.options.fade===!0||r.options.touchMove===!1?!1:r.animating===!0?(r.swipeLeft=null,!1):void r.setCSS(r.swipeLeft)):void 0)},t.prototype.swipeStart=function(e){var t,i=this;return 1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow?(i.touchObject={},!1):(void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,void i.$list.addClass("dragging"))},t.prototype.unfilterSlides=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).remove(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},t.prototype.unload=function(){var t=this;e(".slider--cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&(t.$prevArrow.remove(),t.$nextArrow.remove()),t.$slides.removeClass("slider__item slider__item--active slider__item--visible").removeAttr("style")},t.prototype.updateArrows=function(){var e=this;e.options.arrows===!0&&e.options.infinite!==!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.removeClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled")))},t.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slider__item--active"),e.$dots.find("li").eq(e.currentSlide/e.options.slidesToScroll).addClass("slider__item--active"))},e.fn.slick=function(e){var i=this;return i.each(function(i,n){n.slick=new t(n,e)})},e.fn.slickAdd=function(e,t,i){var n=this;return n.each(function(n,s){s.slick.addSlide(e,t,i)})},e.fn.slickCurrentSlide=function(){var e=this;return e.get(0).slick.getCurrent()},e.fn.slickFilter=function(e){var t=this;return t.each(function(t,i){i.slick.filterSlides(e)})},e.fn.slickGoTo=function(e){var t=this;return t.each(function(t,i){i.slick.slideHandler(e)})},e.fn.slickNext=function(){var e=this;return e.each(function(e,t){t.slick.changeSlide({data:{message:"next"}})})},e.fn.slickPause=function(){var e=this;return e.each(function(e,t){t.slick.autoPlayClear(),t.slick.paused=!0})},e.fn.slickPlay=function(){var e=this;return e.each(function(e,t){t.slick.paused=!1,t.slick.autoPlay()})},e.fn.slickPrev=function(){var e=this;return e.each(function(e,t){t.slick.changeSlide({data:{message:"previous"}})})},e.fn.slickRemove=function(e,t){var i=this;return i.each(function(i,n){n.slick.removeSlide(e,t)})},e.fn.slickSetOption=function(e,t,i){var n=this;return n.each(function(n,s){s.slick.options[e]=t,i===!0&&(s.slick.unload(),s.slick.reinit())})},e.fn.slickUnfilter=function(){var e=this;return e.each(function(e,t){t.slick.unfilterSlides()})},e.fn.unslick=function(){var e=this;return e.each(function(e,t){t.slick.destroy()})}}),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e,i){var n,s,r,o;this.data=e,this.enableSlider=t(this.enableSlider,this),this.configureSettings=t(this.configureSettings,this),this.getBreakpoints=t(this.getBreakpoints,this),o=this.data.attributes[i].value.split(","),o=o.map(function(e){return e.trim()}),o.length>3&&(r=o.splice(0,2),s=o.join(","),o=r.concat(s)),this._properties={_id:o[0],target:this.data,start:o[1]-1,settings:function(){try{return JSON.parse(o[2])}catch(e){return n=e,{}}}()},this.configureSettings()}return e.prototype.getBreakpoints=function(){var e;return e=[{breakpoint:1600,settings:{centerMode:!0,slidesToShow:1}},{breakpoint:1280,settings:{centerMode:!0,slidesToShow:1}},{breakpoint:960,settings:{centerMode:!0,slidesToShow:1}},{breakpoint:480,settings:{centerMode:!0,slidesToShow:1}}]},e.prototype.configureSettings=function(){var e;return e=this._properties.settings,e.showTitles&&(e.customPaging=function(e,t){var i;return i=$(e.$slides.get(t)).find("a").attr("title")||"",'<a class="slider__nav--title" >'+i+"</a>"}),e.responsive&&(e={centerMode:!0,centerPadding:"60px",slidesToShow:3,responsive:[{breakpoint:768,settings:{arrows:!0,centerMode:!0,centerPadding:"20px",slidesToShow:1}},{breakpoint:480,settings:{arrows:!0,centerMode:!0,centerPadding:"5px",slidesToShow:1}}]}),this.enableSlider(e)},e.prototype.enableSlider=function(e){return document.addEventListener("DOMContentLoaded",function(t){return function(){return $(t._properties.target).slick(e).slickGoTo(t._properties.start)}}(this))},e}(),jQuery&&"undefined"!=typeof core&&null!==core&&core.addPlugin("Slider",e,"[data-slider]")}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e,i){var n,s,r,o,a,l,c,u;this.data=e,this.bindClick=t(this.bindClick,this),this.email=t(this.email,this),this.tweet=t(this.tweet,this),this.share=t(this.share,this),this.showMenu=t(this.showMenu,this),this.watch=t(this.watch,this),this.md=t(this.md,this),this.dmd=t(this.dmd,this),this.bindWatch=t(this.bindWatch,this),this.data instanceof jQuery&&(this.data=this.data.get(0)),a=this.data.attributes[i].value.split(/[,](?=[^\]]*?(?:\[))(?=[^\}]*?(?:\{))/g),a=a.map(function(e){return e.trim()}),a.length>3&&(o=a.splice(0,2),r=a.join(","),a=o.concat(r)),s=function(){try{return JSON.parse(a[1]).hashtags}catch(e){return n=e,{}}}(),this._properties={target:this.data,_id:a[0],attr:i,text:null,handle:null!=(l=document.querySelectorAll('[name="twitter:creator"]')[0].content.replace("@",""))?l:"newspring",url:null!=(c=document.querySelectorAll('[property="short_url"]')[0].content)?c:"http://newspring.cc",longUrl:window.location.href,hashtags:null!=s?s:!1,subject:null!=(u=document.getElementsByTagName("title")[0].innerText)?u:"Ask Next Steps About This Subject Line"},"undefined"!=typeof EventEmitter&&null!==EventEmitter&&(this.events=new EventEmitter),this.showMenu(),this.bindWatch().bindClick()}return e.prototype.bindWatch=function(){return this._properties.target.onmousedown=this.md,document.onmousedown=this.dmd,this._properties.target.onmouseup=this.watch,this},e.prototype.dmd=function(e){var t;return this._properties.dmdy=e.pageY,this._properties.dmdy!==this._properties.mdy&&void 0===e.target.parentNode.dataset.shareButton?(t=document.getElementById("share"),core.removeClass(t,"share-menu-active")):void 0},e.prototype.md=function(e){return this._properties.mdy=e.pageY,this._properties.mdx=e.pageX},e.prototype.watch=function(e){var t,i,n,s,r,o,a,l,c,u,d;return a=document.getSelection(),c=a.toString(),s=a.getRangeAt(0).cloneRange(),t=s.getBoundingClientRect(),s.getClientRects&&(s.collapse(!0),r=s.getClientRects()[0],d=r.top,u=document.body.scrollTop+d),o=s.getClientRects()[0],i=document.getElementById("share"),""===c?core.removeClass(i,"share-menu-active"):(core.addClass(i,"share-menu-active"),this._properties.text=c,void 0===e.target.parentNode.dataset.shareButton?this._properties.mdy!==e.pageY&&this._properties.dmdy!==e.pageY||this._properties.mdx!==e.pageX?(u=u-i.offsetHeight-10,i.setAttribute("style","top:"+u+"px;"),l=i.getAttribute("style"),n=(o.left+t.right)/2-i.offsetWidth/2,0>n&&(n=0),l=l+"left:"+n+"px;",i.setAttribute("style",l)):core.removeClass(i,"share-menu-active"):void 0)},e.prototype.showMenu=function(){var e,t,i;return i="share",e=Handlebars.getTemplate(i),"function"==typeof e?(t=document.createElement("div"),t.innerHTML=e(),document.body.appendChild(t)):void 0},e.prototype.share=function(e){var t,i,n,s,r,o,a,l,c,u,d,p;if(e.preventDefault(),l=this._properties.text,c=encodeURIComponent("http:"+this._properties.url.slice(this._properties.url.indexOf("//"))),o=encodeURIComponent("http:"+this._properties.longUrl.slice(this._properties.longUrl.indexOf("//"))),s="",this._properties.handle&&(s="via @"+this._properties.handle),r="",i=0,this._properties.hashtags){for(p=this._properties.hashtags,u=0,d=p.length;d>u;u++)t=p[u],r+=t+", ",i++;r=r.slice(0,r.length-2)}return a="",c.length>0&&(a+=c+" "),s.length>0&&(a+=s+" "),r.length>0&&(a+=r),n={shareHandle:s,shareString:a,shareText:'"'+l+'"',shareUrl:c,shareLongUrl:o,shareHashtagList:r.replace(" ",""),hashtagCount:i,emailSubject:encodeURIComponent(this._properties.subject.trim())},"twitter-share-button"===e.target.parentNode.id?this.tweet(n):"email-share-button"===e.target.parentNode.id?this.email(n):console.log("facebook can go here")},e.prototype.tweet=function(e){var t,i,n;return n=140-e.shareString.length,e.shareText.length>n&&(n-=e.hashtagCount+6,e.shareText=e.shareText.slice(0,n),e.shareText+='..."'),i="https://twitter.com/intent/tweet?",i+="text="+encodeURIComponent(e.shareText),i+="&url="+e.shareUrl,this._properties.handle&&(i+="&via="+this._properties.handle),this._properties.hashtags&&(i+="&hashtags="+e.shareHashtagList),t=document.getElementById("share"),core.removeClass(t,"share-menu-active"),document.getSelection().removeAllRanges(),window.open(i,"_blank","location=yes,height=420,width=550")},e.prototype.email=function(e){var t,i,n,s,r;return r="\r\n",n=e.emailSubject,i="I found this on "+e.shareLongUrl+"<br /><br />"+encodeURIComponent(e.shareText),s="mailto:?subject="+n+"&body="+i,t=document.getElementById("share"),core.removeClass(t,"share-menu-active"),document.getSelection().removeAllRanges(),window.location.href=s},e.prototype.bindClick=function(){var e,t,i,n,s;for(t=document.querySelectorAll("[data-share-button]"),s=[],i=0,n=t.length;n>i;i++)e=t[i],this._properties.trigger=e,s.push(e.addEventListener("click",this.share,!1));return s},e}(),"undefined"!=typeof core&&null!==core&&core.addPlugin("Share",e,"[data-share]")}.call(this),FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),FastClick.prototype.needsClick=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===e.type||e.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(e.className)},FastClick.prototype.needsFocus=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},FastClick.prototype.sendClick=function(e,t){"use strict";var i,n;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),n=t.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(e),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,e.dispatchEvent(i)},FastClick.prototype.determineEventType=function(e){"use strict";return this.deviceIsAndroid&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(e){"use strict";var t;this.deviceIsIOS&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},FastClick.prototype.updateScrollParent=function(e){"use strict";var t,i;if(t=e.fastClickScrollParent,!t||!t.contains(e)){i=e;do{if(i.scrollHeight>i.offsetHeight){t=i,e.fastClickScrollParent=i;break}i=i.parentElement}while(i)}t&&(t.fastClickLastScrollTop=t.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(e){"use strict";return e.nodeType===Node.TEXT_NODE?e.parentNode:e},FastClick.prototype.onTouchStart=function(e){"use strict";var t,i,n;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),i=e.targetTouches[0],this.deviceIsIOS){if(n=window.getSelection(),n.rangeCount&&!n.isCollapsed)return!0;if(!this.deviceIsIOS4){if(i.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=i.pageX,this.touchStartY=i.pageY,e.timeStamp-this.lastClickTime<200&&e.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(e){"use strict";var t=e.changedTouches[0],i=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>i||Math.abs(t.pageY-this.touchStartY)>i?!0:!1},FastClick.prototype.onTouchMove=function(e){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(e){"use strict";return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(e){"use strict";var t,i,n,s,r,o=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(r=e.changedTouches[0],o=document.elementFromPoint(r.pageX-window.pageXOffset,r.pageY-window.pageYOffset)||o,o.fastClickScrollParent=this.targetElement.fastClickScrollParent),n=o.tagName.toLowerCase(),"label"===n){if(t=this.findControl(o)){if(this.focus(o),this.deviceIsAndroid)return!1;o=t}}else if(this.needsFocus(o))return e.timeStamp-i>100||this.deviceIsIOS&&window.top!==window&&"input"===n?(this.targetElement=null,!1):(this.focus(o),this.deviceIsIOS4&&"select"===n||(this.targetElement=null,e.preventDefault()),!1);return this.deviceIsIOS&&!this.deviceIsIOS4&&(s=o.fastClickScrollParent,s&&s.fastClickLastScrollTop!==s.scrollTop)?!0:(this.needsClick(o)||(e.preventDefault(),this.sendClick(o,e)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(e){"use strict";return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0},FastClick.prototype.onClick=function(e){"use strict";var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},FastClick.prototype.destroy=function(){"use strict";var e=this.layer;this.deviceIsAndroid&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(e){"use strict";var t,i;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!FastClick.prototype.deviceIsAndroid)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(i>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===e.style.msTouchAction?!0:!1},FastClick.attach=function(e){"use strict";return new FastClick(e)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,window.matchMedia||(window.matchMedia=function(){"use strict";var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),i=document.getElementsByTagName("script")[0],n=null;t.type="text/css",t.id="matchmediajs-test",i.parentNode.insertBefore(t,i),n="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var i="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=i:t.textContent=i,"1px"===n.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}()),function(){if(window.matchMedia&&window.matchMedia("all").addListener)return!1;var e=window.matchMedia,t=e("only all").matches,i=!1,n=0,s=[],r=function(){clearTimeout(n),n=setTimeout(function(){for(var t=0,i=s.length;i>t;t++){var n=s[t].mql,r=s[t].listeners||[],o=e(n.media).matches;if(o!==n.matches){n.matches=o;for(var a=0,l=r.length;l>a;a++)r[a].call(window,n)}}},30)};window.matchMedia=function(n){var o=e(n),a=[],l=0;return o.addListener=function(e){t&&(i||(i=!0,window.addEventListener("resize",r,!0)),0===l&&(l=s.push({mql:o,listeners:a})),a.push(e))},o.removeListener=function(e){for(var t=0,i=a.length;i>t;t++)a[t]===e&&a.splice(t,1)},o}}(),function(){var e;"undefined"!=typeof skrollr&&null!==skrollr&&(e=skrollr.init()),window.addEventListener("load",function(){FastClick.attach(document.body)},!1)}.call(this),document.ready=function(){var e=$(".cutout--triangle").next("section").find(".shell").css("background-color");$(".cutout--triangle .shell.hero").css("background-color",e)};